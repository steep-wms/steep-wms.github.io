<!DOCTYPE html><html lang="en" class="__variable_267086 __variable_af6a35"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/3a04115668d8070d-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/7d8c9b0ca4a64a5a-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/934c4b7cb736f2a3-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/ee65d20c5e82dfb1-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/images/steep-logo.svg"/><link rel="preload" as="image" href="/images/steep-logo-white.svg"/><link rel="stylesheet" href="/_next/static/css/10ed9b2f3776f238.css" crossorigin="" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-441749513c13d4bb.js" crossorigin=""/><script src="/_next/static/chunks/fd9d1056-ae47a522bfd8cb3f.js" async="" crossorigin=""></script><script src="/_next/static/chunks/69-d2993bcb790a4b40.js" async="" crossorigin=""></script><script src="/_next/static/chunks/main-app-97a216acc5465c72.js" async="" crossorigin=""></script><script src="/_next/static/chunks/250-35d540f0b0e3e54c.js" async=""></script><script src="/_next/static/chunks/152-6335ca0cfe211898.js" async=""></script><script src="/_next/static/chunks/678-859b1945656afd8b.js" async=""></script><script src="/_next/static/chunks/563-5ce7587fca4d9079.js" async=""></script><script src="/_next/static/chunks/176-4e8cb241abc78f3b.js" async=""></script><script src="/_next/static/chunks/346-53c17680cf46bfa8.js" async=""></script><script src="/_next/static/chunks/984-91339477674eb03d.js" async=""></script><script src="/_next/static/chunks/app/docs/(group)/%5B%5B...slug%5D%5D/page-45a920d8e662330d.js" async=""></script><script src="/_next/static/chunks/ede5dfc2-a62f88af85b504d0.js" async=""></script><script src="/_next/static/chunks/35-f107085e7c957675.js" async=""></script><script src="/_next/static/chunks/322-217beb2ead2d08e7.js" async=""></script><script src="/_next/static/chunks/581-05e40ef7c41f3706.js" async=""></script><script src="/_next/static/chunks/593-ceb7d8a81a6ef9ea.js" async=""></script><script src="/_next/static/chunks/app/docs/(group)/layout-81fa46679f94cf5f.js" async=""></script><script src="/_next/static/chunks/app/layout-162be5d8ae6d82b6.js" async=""></script><link rel="icon" type="image/x-icon" href="/favicon.ico"/><link rel="icon" type="image/png" sizes="16x16" href="/favicons/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="96x96" href="/favicons/favicon-96x96.png"/><title>Aerial image segmentation | Steep</title><meta name="description" content="Scientific Workflows in the Cloud"/><meta name="author" content="Michel Krämer"/><meta name="robots" content="index,follow"/><meta name="next-size-adjust"/><script>
              try {
                if (localStorage.theme === "dark" || (!("theme" in localStorage) && window.matchMedia("(prefers-color-scheme: dark)").matches)) {
                  document.documentElement.classList.add("dark")
                } else {
                  document.documentElement.classList.remove("dark")
                }
              } catch (_) {}
            </script><script src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" crossorigin="" noModule=""></script></head><body><span class="absolute left-0 top-0 h-0" id="__scroll-top"></span><nav class="left-0 right-0 top-0 z-50 flex flex-col fixed translate-y-0"><div class="top-0 flex h-16 w-full items-center justify-center border-b border-gray-200 transition-all bg-bg bg-opacity-80 backdrop-blur-sm border-opacity-0 backdrop-blur-none"><div class="flex max-w-screen-2xl flex-1 items-center justify-between px-2 sm:px-4 lg:px-6"><div class="flex flex-1 items-center justify-between lg:hidden"><div class="mb-1"><a class="flex items-center gap-1 text-xl text-black text-opacity-90 dark:text-white" href="/"><img src="/images/steep-logo.svg" class="h-10 w-fit dark:hidden" width="1706.4" height="532.9" alt="Logo"/><img src="/images/steep-logo-white.svg" class="hidden h-10 w-fit dark:block" width="1706.4" height="532.9" alt="Logo"/></a></div><div class="flex items-center gap-4"><button class="lg:hidden" aria-label="Search docs ..."><svg xmlns="http://www.w3.org/2000/svg" width="1.75rem" height="1.75rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search "><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg></button><button class="hidden h-8 w-56 cursor-pointer select-none items-center justify-between rounded border border-gray-200/0 bg-gray-200/60 pl-3 pr-2 text-sm text-gray-600 transition-colors hover:border-gray-400 lg:flex">Search docs ...</button><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--><button id="navbar-toggle-menu-button" class="inline-flex select-none items-center justify-center text-gray-800" aria-label="Open menu"><div class="hamburger-react" aria-label="Open menu" aria-expanded="false" role="button" style="cursor:pointer;height:48px;position:relative;transition:0.4s cubic-bezier(0, 0, 0, 1);user-select:none;width:48px;outline:none;transform:none" tabindex="0"><div style="background:currentColor;height:3px;left:8px;position:absolute;width:32px;top:13px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div><div style="background:currentColor;height:3px;left:8px;position:absolute;width:32px;top:23px;transition:0.4s cubic-bezier(0, 0, 0, 1);opacity:1"></div><div style="background:currentColor;height:3px;left:8px;position:absolute;width:32px;top:33px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div></div></button></div></div><div class="hidden flex-1 items-center justify-between gap-8 lg:flex"><div class="mb-1"><a class="flex items-center gap-1 text-xl text-black text-opacity-90 dark:text-white" href="/"><img src="/images/steep-logo.svg" class="h-10 w-fit dark:hidden" width="1706.4" height="532.9" alt="Logo"/><img src="/images/steep-logo-white.svg" class="hidden h-10 w-fit dark:block" width="1706.4" height="532.9" alt="Logo"/></a></div><div class="mt-1 flex gap-6"><a class="text-gray-600 hover:text-gray-900" href="/showcase/">Showcase</a><a class="text-gray-600 hover:text-gray-900" href="/docs/">Docs</a><a class="text-gray-600 hover:text-gray-900" href="/about/">About</a></div><div class="flex-1"></div><div class="flex items-center gap-4"><div class="border-r border-gray-200 pr-4"><button class="lg:hidden" aria-label="Search docs ..."><svg xmlns="http://www.w3.org/2000/svg" width="1.75rem" height="1.75rem" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-search "><circle cx="11" cy="11" r="8"></circle><path d="m21 21-4.3-4.3"></path></svg></button><button class="hidden h-8 w-56 cursor-pointer select-none items-center justify-between rounded border border-gray-200/0 bg-gray-200/60 pl-3 pr-2 text-sm text-gray-600 transition-colors hover:border-gray-400 lg:flex">Search docs ...</button><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></div><div class="flex" data-state="closed"><button aria-label="Activate dark mode" aria-live="polite" class="aspect-square cursor-pointer touch-manipulation rounded-full text-gray-600 outline-offset-[5px] transition-colors hover:text-gray-800" style="inline-size:1.1rem;block-size:1.1rem;-webkit-tap-highlight-color:transparent"><svg aria-hidden="true" width="24" height="24" viewBox="0 0 24 24" style="stroke-width:2px;inline-size:100%;block-size:100%;stroke-linecap:round"><mask class="moon origin-center" id="moon-mask-dark-mode-toggle1"><rect x="0" y="0" width="100%" height="100%" fill="white"></rect><circle cx="24" cy="9" r="5" fill="black" class="transition-[cx] duration-500 ease-[cubic-bezier(0.5,0.75,0.75,1.25)]"></circle></mask><circle class="origin-center transition-transform duration-500 ease-[cubic-bezier(0.5,1.25,0.75,1.25)] dark:scale-[1.75] dark:duration-[250ms] dark:ease-[cubic-bezier(0.25,0,0.3,1)]" cx="12" cy="12" r="6" mask="url(#moon-mask-dark-mode-toggle1)" fill="currentColor"></circle><g class="origin-center [transition:transform_0.5s_cubic-bezier(0.5,1.5,0.75,1.25),opacity_0.5s_cubic-bezier(0.25,0,0.3,1)] dark:opacity-0 dark:duration-150 dark:[transform:rotateZ(-25deg)]" stroke="currentColor"><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></g></svg></button></div><a href="https://github.com/steep-wms/steep" class="group" aria-label="GitHub" data-state="closed" data-external="external"><svg role="img" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg" class="fill-gray-600 transition-colors group-hover:fill-gray-800"><title></title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div></div></div></div><!--$!--><template data-dgst="BAILOUT_TO_CLIENT_SIDE_RENDERING"></template><!--/$--></nav><nav class="flex fixed left-0 right-0 top-16 h-16 z-50 lg:hidden bg-bg bg-opacity-80 backdrop-blur-sm items-center pl-0.5 sm:pl-2.5 pr-2 gap-2 border-b border-gray-200"><div><div class="hamburger-react" aria-label="Show table of contents" aria-expanded="false" role="button" style="cursor:pointer;height:48px;position:relative;transition:0.4s cubic-bezier(0, 0, 0, 1);user-select:none;width:48px;outline:none" tabindex="0"><div style="background:currentColor;height:3px;left:8px;position:absolute;width:32px;top:17px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div><div style="background:currentColor;height:3px;left:8px;position:absolute;width:32px;top:29px;transition:0.4s cubic-bezier(0, 0, 0, 1);transform:none"></div></div></div><div class="text-gray-600 whitespace-nowrap max-w-min">Advanced tutorials</div><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right "><path d="m9 18 6-6-6-6"></path></svg><div class="font-normal text-ellipsis whitespace-nowrap overflow-hidden">Aerial image segmentation</div></nav><section id="docs-layout" class="mx-auto flex flex-col px-2 sm:px-4 lg:px-6 max-w-screen-2xl mb-10 grid gap-10 xl:gap-8 2xl:gap-10 [grid-template-columns:minmax(0,1fr)] lg:[grid-template-columns:16rem_minmax(0,1fr)] xl:[grid-template-columns:15rem_minmax(0,1fr)_15rem] 2xl:[grid-template-columns:16rem_minmax(0,1fr)_16rem]"><div class="w-full sticky top-0 max-h-screen hidden lg:flex pt-24"><div dir="ltr" class="overflow-hidden max-h-full w-full text-sm" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><ul class="flex flex-col gap-6 mb-4"><li><div class="mb-2 font-normal">Introduction</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="" class="hover:text-primary-hover" href="/docs/">Get started</a></li><li class="text-gray-700"><a data-sidebar-page-slug="how-does-steep-work" class="hover:text-primary-hover" href="/docs/how-does-steep-work/">How does Steep work?</a></li></ul></li><li><div class="mb-2 font-normal">Tutorials</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="your-first-workflow" class="hover:text-primary-hover" href="/docs/your-first-workflow/">Your first workflow</a></li><li class="text-gray-700"><a data-sidebar-page-slug="sequential-workflows" class="hover:text-primary-hover" href="/docs/sequential-workflows/">Sequential workflows</a></li><li class="text-gray-700"><a data-sidebar-page-slug="parallelization" class="hover:text-primary-hover" href="/docs/parallelization/">Parallelization</a></li><li class="text-gray-700"><a data-sidebar-page-slug="loops" class="hover:text-primary-hover" href="/docs/loops/">Loops</a></li></ul></li><li><div class="mb-2 font-normal">Advanced tutorials</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="font-normal text-primary"><a data-sidebar-page-slug="aerial-image-segmentation" class="hover:text-primary-hover" href="/docs/aerial-image-segmentation/">Aerial image segmentation</a></li><li class="text-gray-700"><a data-sidebar-page-slug="bring-your-own-service" class="hover:text-primary-hover" href="/docs/bring-your-own-service/">Bring your own service</a></li></ul></li><li><div class="mb-2 font-normal">Data models</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="workflows" class="hover:text-primary-hover" href="/docs/workflows/">Workflows</a></li><li class="text-gray-700"><a data-sidebar-page-slug="process-chains" class="hover:text-primary-hover" href="/docs/process-chains/">Process chains</a></li><li class="text-gray-700"><a data-sidebar-page-slug="submissions" class="hover:text-primary-hover" href="/docs/submissions/">Submissions</a></li><li class="text-gray-700"><a data-sidebar-page-slug="service-metadata" class="hover:text-primary-hover" href="/docs/service-metadata/">Service metadata</a></li><li class="text-gray-700"><a data-sidebar-page-slug="macros" class="hover:text-primary-hover" href="/docs/macros/">Macros</a></li><li class="text-gray-700"><a data-sidebar-page-slug="timeouts-and-retries" class="hover:text-primary-hover" href="/docs/timeouts-and-retries/">Timeouts and retries</a></li><li class="text-gray-700"><a data-sidebar-page-slug="agents" class="hover:text-primary-hover" href="/docs/agents/">Agents</a></li><li class="text-gray-700"><a data-sidebar-page-slug="vms" class="hover:text-primary-hover" href="/docs/vms/">VMs</a></li><li class="text-gray-700"><a data-sidebar-page-slug="setups" class="hover:text-primary-hover" href="/docs/setups/">Setups</a></li><li class="text-gray-700"><a data-sidebar-page-slug="full-text-search" class="hover:text-primary-hover" href="/docs/full-text-search/">Full-text search</a></li></ul></li><li><div class="mb-2 font-normal">Interfaces</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="http-endpoints" class="hover:text-primary-hover" href="/docs/http-endpoints/">HTTP endpoints</a></li><li class="text-gray-700"><a data-sidebar-page-slug="web-based-user-interface" class="hover:text-primary-hover" href="/docs/web-based-user-interface/">Web-based user interface</a></li></ul></li><li><div class="mb-2 font-normal">Configuration</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="steepyaml" class="hover:text-primary-hover" href="/docs/steepyaml/">steep.yaml</a></li><li class="text-gray-700"><a data-sidebar-page-slug="setupsyaml" class="hover:text-primary-hover" href="/docs/setupsyaml/">setups.yaml</a></li><li class="text-gray-700"><a data-sidebar-page-slug="servicesservicesyaml" class="hover:text-primary-hover" href="/docs/servicesservicesyaml/">services/services.yaml</a></li><li class="text-gray-700"><a data-sidebar-page-slug="macrosmacrosyaml" class="hover:text-primary-hover" href="/docs/macrosmacrosyaml/">macros/macros.yaml</a></li><li class="text-gray-700"><a data-sidebar-page-slug="pluginscommonyaml" class="hover:text-primary-hover" href="/docs/pluginscommonyaml/">plugins/common.yaml</a></li></ul></li><li><div class="mb-2 font-normal">Advanced configuration topics</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="provisioning-scripts" class="hover:text-primary-hover" href="/docs/provisioning-scripts/">Provisioning scripts</a></li><li class="text-gray-700"><a data-sidebar-page-slug="using-yaml-anchors" class="hover:text-primary-hover" href="/docs/using-yaml-anchors/">Using YAML anchors</a></li><li class="text-gray-700"><a data-sidebar-page-slug="using-a-template-engine" class="hover:text-primary-hover" href="/docs/using-a-template-engine/">Using a template engine</a></li></ul></li><li><div class="mb-2 font-normal">Extending Steep through plugins</div><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li class="text-gray-700"><a data-sidebar-page-slug="plugin-overview" class="hover:text-primary-hover" href="/docs/plugin-overview/">Overview</a></li><li class="text-gray-700"><a data-sidebar-page-slug="initializers" class="hover:text-primary-hover" href="/docs/initializers/">Initializers</a></li><li class="text-gray-700"><a data-sidebar-page-slug="output-adapters" class="hover:text-primary-hover" href="/docs/output-adapters/">Output adapters</a></li><li class="text-gray-700"><a data-sidebar-page-slug="process-chain-adapters" class="hover:text-primary-hover" href="/docs/process-chain-adapters/">Process chain adapters</a></li><li class="text-gray-700"><a data-sidebar-page-slug="process-chain-consistency-checkers" class="hover:text-primary-hover" href="/docs/process-chain-consistency-checkers/">Process chain consistency checkers</a></li><li class="text-gray-700"><a data-sidebar-page-slug="custom-runtime-environments" class="hover:text-primary-hover" href="/docs/custom-runtime-environments/">Custom runtime environments</a></li><li class="text-gray-700"><a data-sidebar-page-slug="progress-estimators" class="hover:text-primary-hover" href="/docs/progress-estimators/">Progress estimators</a></li></ul></li></ul></div></div></div></div><div><span class="absolute left-0 top-0 h-0" id="__scroll-top"></span><main class="prose mt-40 lg:mt-24"><div class="text-sm font-normal text-primary">Advanced tutorials</div><h1 class="mt-2" id="aerial-image-segmentation">Aerial image segmentation</h1><p>Learn how to execute a real-world workflow that performs AI-based semantic segmentation of aerial images.</p>
<div class="bg-gray-100 prose my-4 p-4 border-l-4 border-primary"><p>This tutorial assumes that you’ve already <a href="/docs/">installed Steep</a> and that you know how to <a href="/docs/your-first-workflow/">submit a workflow</a>.</p></div><section data-slug="what-we-are-going-to-do"><h2 id="what-we-are-going-to-do">What we are going to do</h2><p>In this tutorial, we will apply a tiling service and a segmentation service to an aerial image. The segmentation service is based on <a href="https://samgeo.gishub.org/samgeo/" data-external="external">segment-geospatial</a>, which in turn uses Facebook’s <a href="https://segment-anything.com/" data-external="external">Segment Anything</a> AI model. Both services are provided as pre-built <a href="https://github.com/steep-wms/aerial-image-segmentation" data-external="external">Docker images on GitHub</a>.</p>
<p>Semantic segmentation is the process of assigning an object class (e.g. <em>tree</em>, <em>building</em>, or <em>street</em>) to each pixel of an image. Our workflow creates segmentation masks, which are images where the detected classes are represented by different colors.</p>
<p>The workflow consists of two steps:</p>
<div class="grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4 lg:gap-y-8 my-8 items-start"><div><div class="text-lg font-normal mb-2">Split input image into tiles</div><p>The <em>tiling service</em> splits the input image into four smaller tiles.</p></div><div class="flex flex-row items-center max-w-lg not-prose"><div class="w-72"><div class="grid grid-cols-1"><svg viewBox="0 0 650 650" class="h-full w-full"><foreignObject width="650" height="650" y="0" x="0"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg></div></div><div class="flex w-16 items-center"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right "><path d="m9 18 6-6-6-6"></path></svg></div><div class="w-72"><div class="grid grid-cols-2 gap-1"><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="0" x="0"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="0" x="-325"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="-325" x="0"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="-325" x="-325"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg></div></div></div><div class="mt-4 lg:mt-0"><div class="text-lg font-normal mb-2">Apply image segmentation</div><p>The <em>segmentation service</em> is applied in a <a href="/docs/workflows/#for-each-actions">for-each action</a> to each image tile to create the segmentation masks.</p></div><div class="flex flex-row items-center max-w-lg not-prose"><div class="w-72"><div class="grid grid-cols-2 gap-1"><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="0" x="0"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="0" x="-325"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="-325" x="0"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg><svg viewBox="0 0 325 325" class="h-full w-full"><foreignObject width="650" height="650" y="-325" x="-325"><img alt="Tile" src="/images/home/tiles.jpg" width="650" height="650" loading="lazy"/></foreignObject></svg></div></div><div class="flex flex-col w-16 items-center"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right m-0"><path d="m9 18 6-6-6-6"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right m-0"><path d="m9 18 6-6-6-6"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right m-0"><path d="m9 18 6-6-6-6"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right m-0"><path d="m9 18 6-6-6-6"></path></svg></div><div class="w-72"><div class="grid grid-cols-2 gap-1"><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="-250"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="-250" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="-250" x="-250"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg></div></div></div></div>
<p>The actions in the second workflow step are intended to run in parallel. If you’ve just installed Steep, you will most likely want to enable <a href="/docs/parallelization/">parallelization</a>.</p>
<div class="bg-gray-100 prose my-4 p-4 border-l-4 border-primary"><p>Note that each instance of the segmentation service requires up 6 GB of RAM. If you wish to run the workflow on a single machine only, limit the number of agents so that you don’t exceed your main memory.</p></div><section data-slug="why-tile-the-image"><h3 id="why-tile-the-image">Why tile the image?</h3><p>You might wonder why the input image needs to be tiled and why we don’t apply the segmentation to it directly. There are three reasons for that:</p>
<ol>
<li><strong>Quality.</strong> Aerial images typically have a high resolution (e.g. 5000x5000 pixels, like the <a href="/docs/aerial-image-segmentation/#download-input-data">one below</a>), and AI models tend to perform badly on large images. Consider the following pictures where we applied the segmentation on an input image directly and then executed the workflow with the same image but with 2×2 tiles and 5×5 tiles. The smaller the tiles, the more precise the results are and the more objects the model is able to identify.</li>
</ol>
<div class="grid grid-cols-[75%] xs:grid-cols-[50%] sm:grid-cols-2 md:grid-cols-3 gap-4 not-prose my-8 justify-center"><div class="flex flex-col"><div class="grid grid-cols-1 gap-1"><svg viewBox="0 0 500 500" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/1tile/1tile.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/1tile/1tile.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg></div><div class="text-center mt-2 font-normal"><p>No tiling</p></div></div><div class="flex flex-col"><div class="grid grid-cols-2 gap-1"><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="-250"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="-250" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 250 250" class="h-full w-full"><foreignObject width="500" height="500" y="-250" x="-250"><picture><source srcSet="/images/docs/aerial-image-segmentation/4tiles/4tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg></div><div class="text-center mt-2 font-normal"><p>2×2 tiles</p></div></div><div class="flex flex-col"><div class="grid grid-cols-5 gap-1"><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="-100"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="-200"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="-300"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="0" x="-400"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-100" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-100" x="-100"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-100" x="-200"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-100" x="-300"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-100" x="-400"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-200" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-200" x="-100"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-200" x="-200"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-200" x="-300"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-200" x="-400"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-300" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-300" x="-100"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-300" x="-200"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-300" x="-300"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-300" x="-400"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-400" x="0"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-400" x="-100"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-400" x="-200"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-400" x="-300"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg><svg viewBox="0 0 100 100" class="h-full w-full"><foreignObject width="500" height="500" y="-400" x="-400"><picture><source srcSet="/images/docs/aerial-image-segmentation/25tiles/25tiles.avif" type="image/avif" width="500" height="500"/><img alt="Tile" src="/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg" width="500" height="500" loading="lazy"/></picture></foreignObject></svg></div><div class="text-center mt-2 font-normal"><p>5×5 tiles</p></div></div></div>
<ol start="2">
<li>
<p><strong>Lower memory consumption.</strong> The smaller the tiles are, the less memory each segmentation process needs. This is particularly important if you enable parallelization and run multiple processes on the same machine. Also, if you <a href="/docs/aerial-image-segmentation/#enable-gpu-acceleration">enable GPU acceleration</a>, depending on your hardware, your graphics card memory might not be large enough to process a high-resolution image and the segmentation service will crash.</p>
</li>
<li>
<p><strong>For the sake of demonstration.</strong> With this tutorial, we aim to teach you how to use a for-each action to process the results of a service with another service in parallel.</p>
</li>
</ol>
<div class="bg-gray-100 prose my-4 p-4 border-l-4 border-primary"><p>Image tiling will result in a higher quality, but it also has an impact on performance. The more tiles you create, the longer the workflow will take.</p></div></section></section><section data-slug="download-input-data"><h2 id="download-input-data">Step 1: Download input data</h2><p>The most important thing for any data processing workflow is the data. In this tutorial, we use an aerial image provided by the <a href="https://hvbg.hessen.de/" data-external="external">Hessische Verwaltung für Bodenmanagement und Geoinformation</a> in Germany through <a href="https://gds.hessen.de" data-external="external">https://gds.hessen.de</a>. The image is free and can be used for any purpose.</p>
<p>Use the following link to download the full resolution image:</p>
<div class="flex justify-center gap-3"><div class="not-prose"><img src="/images/docs/aerial-image-segmentation/aerial-image-mini.jpg" width="650" height="650" alt="Aerial image" loading="lazy" class="w-16 mt-0.5"/></div><div><a href="https://raw.githubusercontent.com/steep-wms/aerial-image-segmentation/1.0.0/data/dop20_32_475_5524_1_he.jpg" data-external="external">https://raw.githubusercontent.com/steep-wms/aerial-image-segmentation/1.0.0/data/dop20_32_475_5524_1_he.jpg</a></div></div>
<p>In the following, we assume that the image has been saved to:</p>
<p><code>/data/dop20_32_475_5524_1_he.jpg</code></p>
<p>If you’ve downloaded the image to another location on your computer, make sure you modify the paths in the subsequent steps.</p></section><section data-slug="add-segmentation-metadata"><h2 id="add-segmentation-metadata">Step 2: Add service metadata</h2><p>Similar to the previous tutorials, we need to add metadata for the tiling service and the segmentation service. Open the file <code>conf/services/services.yaml</code> and add the following code to it to describe the tiling service:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">conf/services/services.yaml</div><div class="flex items-center gap-2"><div class="mr-2 uppercase opacity-60">yaml</div><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="yaml" data-theme="Steep color theme"><code data-language="yaml" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#6C758D">-</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> tile</span></span>
<span data-line=""><span style="color:#E16EAA">  name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Tiling</span></span>
<span data-line=""><span style="color:#E16EAA">  description</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Split an image into tiles</span></span>
<span data-line=""><span style="color:#E16EAA">  path</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> ghcr.io/steep-wms/aerial-image-segmentation/tiling-service:1.0.0</span></span>
<span data-line=""><span style="color:#E16EAA">  runtime</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> docker</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E16EAA">  parameters</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">    -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input_file</span></span>
<span data-line=""><span style="color:#E16EAA">      name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Input image</span></span>
<span data-line=""><span style="color:#E16EAA">      description</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> The input image to tile</span></span>
<span data-line=""><span style="color:#E16EAA">      type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input</span></span>
<span data-line=""><span style="color:#E16EAA">      cardinality</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 1..1</span></span>
<span data-line=""><span style="color:#E16EAA">      dataType</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> string</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6C758D">    -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> output_directory</span></span>
<span data-line=""><span style="color:#E16EAA">      name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Output directory</span></span>
<span data-line=""><span style="color:#E16EAA">      description</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> The directory where the tiles should be stored</span></span>
<span data-line=""><span style="color:#E16EAA">      type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> output</span></span>
<span data-line=""><span style="color:#E16EAA">      cardinality</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 1..1</span></span>
<span data-line=""><span style="color:#E16EAA">      dataType</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> directory</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6C758D">    -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> num_tiles</span></span>
<span data-line=""><span style="color:#E16EAA">      name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Number of columns/rows</span></span>
<span data-line=""><span style="color:#E16EAA">      description</span><span style="color:#6C758D">:</span><span style="color:#A0AEC0"> &gt;-</span></span>
<span data-line=""><span style="color:#90CDF4">        The number of columns and rows to split the image into. A value of</span></span>
<span data-line=""><span style="color:#90CDF4">        5 means the image will be split into 5x5 tiles.</span></span>
<span data-line=""><span style="color:#E16EAA">      type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input</span></span>
<span data-line=""><span style="color:#E16EAA">      cardinality</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 1..1</span></span>
<span data-line=""><span style="color:#E16EAA">      dataType</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> string</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div>
<p>The service has three parameters: one for the input image file, one for the output directory where the tiles will be stored, and one specifying the number of columns and rows to split the image into. Regarding the latter, a value of 5 means the image will be split into 5×5 (=25) tiles.</p>
<p>As the service is provided as a pre-compiled <a href="https://github.com/steep-wms/aerial-image-segmentation" data-external="external">Docker image on GitHub</a>, we set the attribute <code>path</code> to the Docker image name and the attribute <code>runtime</code> to <code>docker</code>.</p>
<p>Now, add the metadata for the segmentation service:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">conf/services/services.yaml</div><div class="flex items-center gap-2"><div class="mr-2 uppercase opacity-60">yaml</div><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="yaml" data-theme="Steep color theme"><code data-language="yaml" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#6C758D">-</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> segment</span></span>
<span data-line=""><span style="color:#E16EAA">  name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Image segmentation</span></span>
<span data-line=""><span style="color:#E16EAA">  description</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Segment geospatial data with the Segment Anything Model (SAM)</span></span>
<span data-line=""><span style="color:#E16EAA">  path</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> ghcr.io/steep-wms/aerial-image-segmentation/segmentation-service:1.0.0</span></span>
<span data-line=""><span style="color:#E16EAA">  runtime</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> docker</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#E16EAA">  parameters</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">    -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input_file</span></span>
<span data-line=""><span style="color:#E16EAA">      name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Input image</span></span>
<span data-line=""><span style="color:#E16EAA">      description</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> The input image to segment</span></span>
<span data-line=""><span style="color:#E16EAA">      type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input</span></span>
<span data-line=""><span style="color:#E16EAA">      cardinality</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 1..1</span></span>
<span data-line=""><span style="color:#E16EAA">      dataType</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> string</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6C758D">    -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> output_file</span></span>
<span data-line=""><span style="color:#E16EAA">      name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Output image</span></span>
<span data-line=""><span style="color:#E16EAA">      description</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Output image with masks</span></span>
<span data-line=""><span style="color:#E16EAA">      type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> output</span></span>
<span data-line=""><span style="color:#E16EAA">      cardinality</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 1..1</span></span>
<span data-line=""><span style="color:#E16EAA">      dataType</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> string</span></span>
<span data-line=""><span style="color:#E16EAA">      fileSuffix</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> .jpg</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div>
<p>The service has just two parameters: one for the image to segment and one for the filename of the output segmentation mask. We set the <code>fileSuffix</code> of the output parameter to <code>.jpg</code> to make sure the filename will be generated with the right extension.</p>
<p>Again, we use the Docker image name as <code>path</code> and set the <code>runtime</code> to <code>docker</code>.</p></section><section data-slug="configure-steep"><h2 id="configure-steep">Step 3: Configure Steep</h2><p>Our two services will be executed in Docker containers, which have a virtualized file system. Any data location on the host system that should be accessible from within a Docker container needs to be mounted when the container is started.</p>
<p>In our case, this applies to the <code>/data</code> directory where the <a href="/docs/aerial-image-segmentation/#download-input-data">input image has been downloaded</a>. We will use the same directory for Steep’s temporary path as well as its output path to access the segmentation masks after the workflow has finished.</p><section data-slug="change-temporary-path-and-output-path"><h3 id="change-temporary-path-and-output-path">Change temporary path and output path</h3><p>Open Steep’s <a href="/docs/steepyaml/">main configuration file</a> <code>conf/steep.yaml</code> and modify the properties <code>tmpPath</code> and <code>outPath</code> as follows:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">conf/steep.yaml</div><div class="flex items-center gap-2"><div class="mr-2 uppercase opacity-60">yaml</div><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="yaml" data-theme="Steep color theme"><code data-language="yaml" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#E16EAA">steep</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#E16EAA">  tmpPath</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> /data/tmp</span></span>
<span data-line=""><span style="color:#E16EAA">  outPath</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> /data/out</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div></section><section data-slug="mount-data-directory"><h3 id="mount-data-directory">Mount data directory</h3><p>In the same file, add the following configuration to tell the Docker runtime to mount the <code>/data</code> directory into every container started:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">conf/steep.yaml</div><div class="flex items-center gap-2"><div class="mr-2 uppercase opacity-60">yaml</div><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="yaml" data-theme="Steep color theme"><code data-language="yaml" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#E16EAA">steep</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#E16EAA">  runtimes</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#E16EAA">    docker</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#E16EAA">      volumes</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">        -</span><span style="color:#90CDF4"> /data:/data</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div></section><section data-slug="restart-steep-segment"><h3 id="restart-steep-segment">Restart Steep</h3><p>Restart Steep if it is running, so it can pick up the updated configuration.</p></section></section><section data-slug="create-segmentation-workflow"><h2 id="create-segmentation-workflow">Step 4: Create the workflow</h2><p>Create a new file <code>segment.yaml</code> and paste the following workflow into it:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">segment.yaml</div><div class="flex items-center gap-2"><button type="button" role="combobox" aria-controls="radix-:Rclqpbrqeuula:" aria-expanded="false" aria-autocomplete="none" dir="ltr" data-state="closed" aria-label="Language" class="flex h-full items-center justify-center gap-[.1em] rounded-sm px-2 py-1 outline-none hover:bg-gray-700 dark:hover:bg-gray-200"><div class="uppercase"><span style="pointer-events:none"></span></div><span aria-hidden="true"><div class="flex"><svg xmlns="http://www.w3.org/2000/svg" width="1.2em" height="1.2em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-down "><path d="m6 9 6 6 6-6"></path></svg></div></span></button><select aria-hidden="true" tabindex="-1" style="position:absolute;border:0;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;word-wrap:normal"></select><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="yaml" data-theme="Steep color theme"><code data-language="yaml" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#E16EAA">api</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 4.7.0</span></span>
<span data-line=""><span style="color:#E16EAA">actions</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">  -</span><span style="color:#E16EAA"> type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> execute</span></span>
<span data-line=""><span style="color:#E16EAA">    service</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> tile</span></span>
<span data-line=""><span style="color:#E16EAA">    inputs</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">      -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input_file</span></span>
<span data-line=""><span style="color:#E16EAA">        value</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> /data/dop20_32_475_5524_1_he.jpg</span></span>
<span data-line=""><span style="color:#6C758D">      -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> num_tiles</span></span>
<span data-line=""><span style="color:#E16EAA">        value</span><span style="color:#6C758D">:</span><span style="color:#EDF2F7"> 2</span></span>
<span data-line=""><span style="color:#E16EAA">    outputs</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">      -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> output_directory</span></span>
<span data-line=""><span style="color:#E16EAA">        var</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> tiles</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6C758D">  -</span><span style="color:#E16EAA"> type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> for</span></span>
<span data-line=""><span style="color:#E16EAA">    enumerator</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> i</span></span>
<span data-line=""><span style="color:#E16EAA">    input</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> tiles</span></span>
<span data-line=""><span style="color:#E16EAA">    actions</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">      -</span><span style="color:#E16EAA"> type</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> execute</span></span>
<span data-line=""><span style="color:#E16EAA">        service</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> segment</span></span>
<span data-line=""><span style="color:#E16EAA">        inputs</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">          -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> input_file</span></span>
<span data-line=""><span style="color:#E16EAA">            var</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> i</span></span>
<span data-line=""><span style="color:#E16EAA">        outputs</span><span style="color:#6C758D">:</span></span>
<span data-line=""><span style="color:#6C758D">          -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> output_file</span></span>
<span data-line=""><span style="color:#E16EAA">            var</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> mask_image</span></span>
<span data-line=""><span style="color:#E16EAA">            store</span><span style="color:#6C758D">:</span><span style="color:#E16EAB"> true</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div>
<p>The workflow first applies the tiling service <code>tile</code> to the input image. The service writes its results into a directory. The segmentation service <code>segment</code> is then applied in a for-each action to each image tile in this directory. Steep will create a new process chain for each image tile and execute them in parallel if possible.</p>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="-0.5 -0.5 615 131" class="my-8 text-black dark:text-white"><path fill="none" stroke="currentColor" stroke-width="2" d="M368 4h240v120H368z" pointer-events="all"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M258 64h23.63" pointer-events="stroke"></path><path fill="currentColor" stroke="currentColor" stroke-miterlimit="10" d="m286.88 64-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"></path><path fill="none" stroke="currentColor" stroke-width="2" d="M188 49h70v30h-70z" pointer-events="all"></path><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:68px;height:1px;padding-top:64px;margin-left:189px"><div data-drawio-colors="color:var(--color-fg);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;color:var(--color-fg);line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">tile</div></div></div></foreignObject><text x="223" y="68" fill="currentColor" font-size="12" text-anchor="middle">tile</text></switch><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M418 64h23.63" pointer-events="stroke"></path><path fill="currentColor" stroke="currentColor" stroke-miterlimit="10" d="m446.88 64-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M391.63 64H338" pointer-events="stroke"></path><path fill="currentColor" stroke="currentColor" stroke-miterlimit="10" d="m396.88 64-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"></path><circle cx="408" cy="64" r="10" fill="none" stroke="currentColor" stroke-width="2" pointer-events="all"></circle><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M518 64h23.63" pointer-events="stroke"></path><path fill="currentColor" stroke="currentColor" stroke-miterlimit="10" d="m546.88 64-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"></path><path fill="none" stroke="currentColor" stroke-width="2" d="M448 49h70v30h-70z" pointer-events="all"></path><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:68px;height:1px;padding-top:64px;margin-left:449px"><div data-drawio-colors="color:var(--color-fg);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;color:var(--color-fg);line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">segment</div></div></div></foreignObject><text x="483" y="68" fill="currentColor" font-size="12" text-anchor="middle">segment</text></switch><circle cx="558" cy="64" r="10" fill="none" stroke="currentColor" stroke-width="2" pointer-events="all"></circle><path fill="none" d="M378 74h60v30h-60z" pointer-events="all"></path><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:58px;height:1px;padding-top:89px;margin-left:379px"><div data-drawio-colors="color:var(--color-fg);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;color:var(--color-fg);line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">i</div></div></div></foreignObject><text x="408" y="93" fill="currentColor" font-size="12" text-anchor="middle">i</text></switch><path fill="none" d="M528 74h60v30h-60z" pointer-events="all"></path><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:58px;height:1px;padding-top:89px;margin-left:529px"><div data-drawio-colors="color:var(--color-fg);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;color:var(--color-fg);line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">mask_image</div></div></div></foreignObject><text x="558" y="93" fill="currentColor" font-size="12" text-anchor="middle">mask_image</text></switch><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="4" d="M338 89V39" pointer-events="stroke"></path><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M308 64h23.63" pointer-events="stroke"></path><path fill="currentColor" stroke="currentColor" stroke-miterlimit="10" d="m336.88 64-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="all"></path><circle cx="298" cy="64" r="10" fill="none" stroke="currentColor" stroke-width="2" pointer-events="all"></circle><path fill="none" d="M268 74h60v30h-60z" pointer-events="all"></path><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:58px;height:1px;padding-top:89px;margin-left:269px"><div data-drawio-colors="color:var(--color-fg);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;color:var(--color-fg);line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal">tiles</div></div></div></foreignObject><text x="298" y="93" fill="currentColor" font-size="12" text-anchor="middle">tiles</text></switch><path fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="2" d="M394.624 27.936a6.992 6.992 0 0 1-7.5 2.576 6.99 6.99 0 0 1-5.085-6.095 6.976 6.976 0 0 1 3.882-6.919 6.99 6.99 0 0 1 7.857 1.166" pointer-events="all"></path><path fill="currentColor" d="m396.603 14.464 1.71 8.416-8.523-1.11Z" pointer-events="all"></path><path fill="none" d="M68 74h60v30H68z" pointer-events="all"></path><switch transform="translate(-.5 -.5)"><foreignObject width="100%" height="100%" pointer-events="none" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow:visible;text-align:left"><div xmlns="http://www.w3.org/1999/xhtml" style="display:flex;align-items:unsafe center;justify-content:unsafe center;width:58px;height:1px;padding-top:89px;margin-left:69px"><div data-drawio-colors="color:var(--color-fg);" style="box-sizing:border-box;font-size:0;text-align:center"><div style="display:inline-block;font-size:12px;color:var(--color-fg);line-height:1.2;pointer-events:all;white-space:normal;overflow-wrap:normal"><i>/data/dop20_32_475_5524_1_he.jpg</i></div></div></div></foreignObject><text x="98" y="93" fill="currentColor" font-size="12" text-anchor="middle">/data/dop2...</text></switch><circle cx="98" cy="64" r="10" fill="none" stroke="currentColor" stroke-width="2" pointer-events="none"></circle><circle cx="98" cy="64" r="5.077" fill="currentColor" stroke="currentColor" pointer-events="none"></circle><path fill="none" stroke="currentColor" stroke-miterlimit="10" d="M108 64h73.63" pointer-events="none"></path><path fill="currentColor" stroke="currentColor" stroke-miterlimit="10" d="m186.88 64-7 3.5 1.75-3.5-1.75-3.5Z" pointer-events="none"></path></svg></section><section data-slug="submit-segmentation-workflow"><h2 id="submit-segmentation-workflow">Step 5: Submit the workflow</h2><p>Run the following command to submit the segmentation workflow to Steep:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">Terminal</div><div class="flex items-center gap-2"><div class="mr-2 uppercase opacity-60">shell</div><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="shell" data-theme="Steep color theme"><code data-language="shell" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#EDF2F8">curl</span><span style="color:#E16EAA"> -X</span><span style="color:#E16EAA"> POST http://localhost:8080/workflows --data-binary @segment.yaml</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div>
<p>You can monitor the workflow execution in Steep’s web UI. Note that it will take several minutes to complete.</p>
<p>Also, if you haven’t done so already, the Docker images need to be pulled first. They have a total download size of about 8 GB, so depending on your Internet connection, downloading also may take a few minutes. Subsequent runs will be faster.</p>
<p>After the execution has finished, you will find the segmentation masks at <code>/data/out/[WORKFLOW ID]</code>.</p></section><section data-slug="enable-gpu-acceleration"><h2 id="enable-gpu-acceleration">Optional: Enable GPU acceleration</h2><p>If your machine has an NVIDIA graphics card, you can optionally enable GPU acceleration to tremendously speed up processing. In fact, this is recommended for any AI workflow in production.</p>
<p>To do so, the <a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/" data-external="external">NVIDIA Container Toolkit</a> needs to be installed on your system. Follow the <a href="https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html" data-external="external">installation guide</a> if you haven’t done so already.</p>
<p>Modify the metadata of the segmentation service and add the following <a href="/docs/service-metadata/#runtime-arguments">runtime argument</a>:</p>
<div class="my-5 rounded-md bg-bg-code text-code-container-header"><div class="flex justify-between gap-2 border-b border-gray-600 px-4 py-1 text-sm dark:border-gray-300"><div class="py-1">conf/services/services.yaml</div><div class="flex items-center gap-2"><div class="mr-2 uppercase opacity-60">yaml</div><div class="flex h-7 w-7 cursor-pointer items-center justify-center rounded-sm hover:bg-gray-700 dark:hover:bg-gray-200" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copy "><rect width="14" height="14" x="8" y="8" rx="2" ry="2"></rect><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"></path></svg>​</div></div></div><div><div data-rehype-pretty-code-fragment="true"><div dir="ltr" class="overflow-hidden" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre class="Steep color theme" tabindex="0" data-language="yaml" data-theme="Steep color theme"><code data-language="yaml" data-theme="Steep color theme" style="display:grid"><span data-line=""><span style="color:#6C758D">-</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> segment</span></span>
<span data-line=""><span style="color:#E16EAA">  name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> Image segmentation</span></span>
<span data-line=""><span style="color:#EDF2F8FF">  </span></span>
<span data-line=""><span style="color:#EDF2F7">  ...</span></span>
<span data-line=""> </span>
<span data-line="" data-highlighted-line=""><span style="color:#E16EAA">  runtimeArgs</span><span style="color:#6C758D">:</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#6C758D">    -</span><span style="color:#E16EAA"> id</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> gpus</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E16EAA">      name</span><span style="color:#6C758D">:</span><span style="color:#90CDF4"> GPUs</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E16EAA">      description</span><span style="color:#6C758D">:</span><span style="color:#6C758D"> &quot;</span><span style="color:#90CDF4">Use all available GPUs</span><span style="color:#6C758D">&quot;</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E16EAA">      label</span><span style="color:#6C758D">:</span><span style="color:#6C758D"> &quot;</span><span style="color:#90CDF4">--gpus</span><span style="color:#6C758D">&quot;</span></span>
<span data-line="" data-highlighted-line=""><span style="color:#E16EAA">      value</span><span style="color:#6C758D">:</span><span style="color:#6C758D"> &quot;</span><span style="color:#90CDF4">all</span><span style="color:#6C758D">&quot;</span></span></code></pre></div></div><div data-orientation="vertical" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;top:0;right:0;bottom:var(--radix-scroll-area-corner-height);--radix-scroll-area-thumb-height:18px"></div><div data-orientation="horizontal" class="flex select-none touch-none p-0.5 [transition:opacity_160ms_ease-out,width_.25s_ease-in-out,height_.25s_ease-in-out] data-[orientation=vertical]:w-[0.6rem] hover:data-[orientation=vertical]:w-[0.8rem] data-[orientation=horizontal]:flex-col data-[orientation=horizontal]:h-[0.6rem] hover:data-[orientation=horizontal]:h-[0.8rem] dark opacity-60" aria-hidden="true" style="position:absolute;bottom:0;left:0;right:var(--radix-scroll-area-corner-width);--radix-scroll-area-thumb-width:18px"></div></div></div></div></div>
<p>This will tell Steep to pass the argument <span data-rehype-pretty-code-figure=""><code data-language="sh" data-theme="Steep color theme"><span data-line=""><span style="color:#EDF2F8">--gpus</span><span style="color:#E16EAA"> all</span></span></code></span> to the <span data-rehype-pretty-code-figure=""><code data-language="sh" data-theme="Steep color theme"><span data-line=""><span style="color:#EDF2F8">docker</span><span style="color:#E16EAA"> run</span></span></code></span> command when it starts the segmentation service.</p>
<div class="bg-gray-100 prose my-4 p-4 border-l-4 border-primary"><p><strong>Important:</strong> A single GPU cannot be shared between multiple instances of the segmentation service. If you want to use GPU acceleration, you have to either disable parallelization or run multiple instances of Steep <a href="/docs/parallelization/#launch-multiple-steep-instances">distributed across several machines</a>.</p></div></section><div class="flex mt-14 mb-8 justify-between text-sm not-prose gap-4"><div><a class="font-normal text-gray-800 hover:text-primary group flex gap-1" href="/docs/loops/"><div class="text-gray-500 group-hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-left "><path d="m15 18-6-6 6-6"></path></svg></div><div>Loops</div></a></div><div><a class="font-normal text-gray-800 hover:text-primary group flex gap-1 text-right" href="/docs/bring-your-own-service/"><div>Bring your own service</div><div class="text-gray-500 group-hover:text-primary"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-chevron-right "><path d="m9 18 6-6-6-6"></path></svg></div></a></div></div></main></div><div class="w-full sticky top-0 max-h-screen hidden xl:flex pt-24"><div dir="ltr" class="overflow-hidden max-h-full w-full text-sm" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="w-full h-full" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><div class="mb-4 font-normal">On this page</div><ul class="mb-4 flex flex-col gap-2 border-b border-gray-200 pb-4"><li><a data-sidebar-section-slug="what-we-are-going-to-do" class="hover:text-primary-hover text-gray-700" href="#what-we-are-going-to-do">What we are going to do</a></li><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li><a data-sidebar-section-slug="why-tile-the-image" class="hover:text-primary-hover text-gray-700" href="#why-tile-the-image">Why tile the image?</a></li></ul><li><a data-sidebar-section-slug="download-input-data" class="hover:text-primary-hover text-gray-700" href="#download-input-data">Step 1: Download input data</a></li><li><a data-sidebar-section-slug="add-segmentation-metadata" class="hover:text-primary-hover text-gray-700" href="#add-segmentation-metadata">Step 2: Add service metadata</a></li><li><a data-sidebar-section-slug="configure-steep" class="hover:text-primary-hover text-gray-700" href="#configure-steep">Step 3: Configure Steep</a></li><ul class="flex flex-col gap-2 border-l border-gray-200 pl-3"><li><a data-sidebar-section-slug="change-temporary-path-and-output-path" class="hover:text-primary-hover text-gray-700" href="#change-temporary-path-and-output-path">Change temporary path and output path</a></li><li><a data-sidebar-section-slug="mount-data-directory" class="hover:text-primary-hover text-gray-700" href="#mount-data-directory">Mount data directory</a></li><li><a data-sidebar-section-slug="restart-steep-segment" class="hover:text-primary-hover text-gray-700" href="#restart-steep-segment">Restart Steep</a></li></ul><li><a data-sidebar-section-slug="create-segmentation-workflow" class="hover:text-primary-hover text-gray-700" href="#create-segmentation-workflow">Step 4: Create the workflow</a></li><li><a data-sidebar-section-slug="submit-segmentation-workflow" class="hover:text-primary-hover text-gray-700" href="#submit-segmentation-workflow">Step 5: Submit the workflow</a></li><li><a data-sidebar-section-slug="enable-gpu-acceleration" class="hover:text-primary-hover text-gray-700" href="#enable-gpu-acceleration">Optional: Enable GPU acceleration</a></li></ul><a href="https://github.com/steep-wms/steep-wms.github.io/blob/master/src/content/docs/aerial-image-segmentation.mdx" class="text-gray-600 hover:text-primary-hover" data-external="external">Edit this page on GitHub<!-- --> <svg xmlns="http://www.w3.org/2000/svg" width="0.9em" height="0.9em" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-external-link mb-[3px] inline-flex"><path d="M15 3h6v6"></path><path d="M10 14 21 3"></path><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path></svg></a></div></div></div></div></section><footer class="border-t border-gray-200 pb-20 pt-16 [&amp;_a:hover]:text-gray-800 [&amp;_a:hover]:underline [&amp;_a]:text-gray-600 bg-gray-100/50"><section class="mx-auto flex flex-col px-2 sm:px-4 lg:px-6 max-w-screen-xl"><div class="grid w-[40rem] max-w-full grid-cols-1 justify-items-center gap-8 self-start text-center sm:grid-cols-3 sm:justify-items-start sm:text-left"><div><a class="group" href="/"><img src="/images/steep-logo.svg" class="h-10 w-fit opacity-70 grayscale transition-all group-hover:opacity-100 group-hover:grayscale-0 dark:hidden" width="1706.4" height="532.9" alt="Steep Logo" loading="lazy"/><img src="/images/steep-logo-white.svg" class="hidden h-10 w-fit opacity-70 grayscale transition-all group-hover:opacity-100 group-hover:grayscale-0 dark:block" width="1706.4" height="532.9" alt="Steep Logo" loading="lazy"/></a></div><div><h2 class="mb-2 font-normal">Resources</h2><ul class="text-gray-600"><li><a href="/showcase/">Showcase</a></li><li><a href="/docs/">Docs</a></li><li><a href="/about/">About</a></li><li><a href="https://github.com/steep-wms/steep" data-external="external">GitHub</a></li></ul></div><div><h2 class="mb-2 font-normal">Legal</h2><ul class="text-gray-600"><li><a href="/legal-notice/">Legal notice</a></li><li><a href="/privacy-policy/">Privacy policy</a></li></ul></div></div><div class="mt-12 flex flex-col items-center gap-x-16 gap-y-8 text-center text-gray-600 sm:flex-row sm:justify-between sm:text-left"><div class="mt-1"><span data-br=":R6iuula:" data-brr="1" style="display:inline-block;vertical-align:top;text-decoration:inherit;text-wrap:balance">© 2013–<span>2024</span> <a href="https://igd.fraunhofer.de/" data-external="external">Fraunhofer Institute for Computer Graphics Research IGD</a></span><script>self.__wrap_n=self.__wrap_n||(self.CSS&&CSS.supports("text-wrap","balance")?1:2);self.__wrap_b=(e,t,r)=>{let n=(r=r||document.querySelector(`[data-br="${e}"]`)).parentElement,o=e=>r.style.maxWidth=e+"px";r.style.maxWidth="";let i=n.clientWidth,a=n.clientHeight,u=i/2-.25,l=i+.5,s;if(i){for(o(u),u=Math.max(r.scrollWidth,u);u+1<l;)o(s=Math.round((u+l)/2)),n.clientHeight===a?l=s:u=s;o(l*t+i*(1-t))}r.__wrap_o||"undefined"!=typeof ResizeObserver&&(r.__wrap_o=new ResizeObserver(()=>{self.__wrap_b(0,+r.dataset.brr,r)})).observe(n)};self.__wrap_n!=1&&self.__wrap_b(":R6iuula:",1)</script></div><div><a href="https://igd.fraunhofer.de/" class="group" data-external="external"><img src="/images/fraunhofer.svg" class="w-48 h-fit opacity-70 grayscale transition-all group-hover:opacity-100 group-hover:grayscale-0 dark:hidden" width="301.647" height="82.609" alt="Fraunhofer Logo" loading="lazy"/><img src="/images/fraunhofer-light.svg" class="hidden w-48 h-fit opacity-70 grayscale transition-all group-hover:opacity-100 group-hover:grayscale-0 dark:block" width="301.647" height="82.609" alt="Fraunhofer Logo" loading="lazy"/></a></div></div></section></footer><script src="/_next/static/chunks/webpack-441749513c13d4bb.js" crossorigin="" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/3a04115668d8070d-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/7d8c9b0ca4a64a5a-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/media/934c4b7cb736f2a3-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n4:HL[\"/_next/static/media/ee65d20c5e82dfb1-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n5:HL[\"/_next/static/css/10ed9b2f3776f238.css\",\"style\",{\"crossOrigin\":\"\"}]\n0:\"$L6\"\n"])</script><script>self.__next_f.push([1,"7:I[7690,[],\"\"]\n9:I[5250,[\"250\",\"static/chunks/250-35d540f0b0e3e54c.js\",\"152\",\"static/chunks/152-6335ca0cfe211898.js\",\"678\",\"static/chunks/678-859b1945656afd8b.js\",\"563\",\"static/chunks/563-5ce7587fca4d9079.js\",\"176\",\"static/chunks/176-4e8cb241abc78f3b.js\",\"346\",\"static/chunks/346-53c17680cf46bfa8.js\",\"984\",\"static/chunks/984-91339477674eb03d.js\",\"294\",\"static/chunks/app/docs/(group)/%5B%5B...slug%5D%5D/page-45a920d8e662330d.js\"],\"\"]\na:I[8352,[\"250\",\"static/chunks/250-35d540f0b0e3e54c.js\",\"152\",\"static/chunks/152-6335ca0cfe211898.js\",\"678\",\"static/chunks/678-859b1945656afd8b.js\",\"563\",\"static/chunks/563-5ce7587fca4d9079.js\",\"176\",\"static/chunks/176-4e8cb241abc78f3b.js\",\"346\",\"static/chunks/346-53c17680cf46bfa8.js\",\"984\",\"static/chunks/984-91339477674eb03d.js\",\"294\",\"static/chunks/app/docs/(group)/%5B%5B...slug%5D%5D/page-45a920d8e662330d.js\"],\"\"]\nb:I[4079,[\"250\",\"static/chunks/250-35d540f0b0e3e54c.js\",\"152\",\"static/chunks/152-6335ca0cfe211898.js\",\"678\",\"static/chunks/678-859b1945656afd8b.js\",\"563\",\"static/chunks/563-5ce7587fca4d9079.js\",\"176\",\"static/chunks/176-4e8cb241abc78f3b.js\",\"346\",\"static/chunks/346-53c17680cf46bfa8.js\",\"984\",\"static/chunks/984-91339477674eb03d.js\",\"294\",\"static/chunks/app/docs/(group)/%5B%5B...slug%5D%5D/page-45a920d8e662330d.js\"],\"\"]\nc:I[5613,[],\"\"]\ne:I[1778,[],\"\"]\nf:I[6642,[\"68\",\"static/chunks/ede5dfc2-a62f88af85b504d0.js\",\"250\",\"static/chunks/250-35d540f0b0e3e54c.js\",\"152\",\"static/chunks/152-6335ca0cfe211898.js\",\"35\",\"static/chunks/35-f107085e7c957675.js\",\"678\",\"static/chunks/678-859b1945656afd8b.js\",\"563\",\"static/chunks/563-5ce7587fca4d9079.js\",\"346\",\"static/chunks/346-53c17680cf46bfa8.js\",\"322\",\"static/chunks/322-217beb2ead2d08e7.js\",\"581\",\"static/chunks/581-05e40ef7c41f3706.js\",\"593\",\"static/chunks/593-ceb7d8a81a6ef9ea.js\",\"544\",\"static/chunks/app/docs/(group)/layout-81fa46679f94cf5f.js\"],\"\"]\n10:I[2047,[\"152\",\"static/chunks/152-6335ca0cfe211898.js\",\"185\",\"static/chunks/app/layout-162be5d8ae6d82b6.js\"],\"\"]\n12:I[8955,[],\"\"]\nd:[\"slug\",\"aerial-image-segmentation\",\"oc\"]\n13:[]\n"])</script><script>self.__next_f.push([1,"6:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/10ed9b2f3776f238.css\",\"precedence\":\"next\",\"crossOrigin\":\"\"}]],[\"$\",\"$L7\",null,{\"buildId\":\"-Dr-hgdCslcCcnZqOwsfC\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/docs/aerial-image-segmentation/\",\"initialTree\":[\"\",{\"children\":[\"docs\",{\"children\":[\"(group)\",{\"children\":[[\"slug\",\"aerial-image-segmentation\",\"oc\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"aerial-image-segmentation\\\"]}\",{}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"docs\",{\"children\":[\"(group)\",{\"children\":[[\"slug\",\"aerial-image-segmentation\",\"oc\"],{\"children\":[\"__PAGE__\",{},[\"$L8\",[[\"$\",\"span\",null,{\"className\":\"absolute left-0 top-0 h-0\",\"id\":\"__scroll-top\"}],[\"$\",\"main\",null,{\"className\":\"prose mt-40 lg:mt-24\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-sm font-normal text-primary\",\"children\":\"Advanced tutorials\"}],[\"$\",\"h1\",null,{\"className\":\"mt-2\",\"id\":\"aerial-image-segmentation\",\"children\":\"Aerial image segmentation\"}],[[\"$\",\"p\",null,{\"children\":\"Learn how to execute a real-world workflow that performs AI-based semantic segmentation of aerial images.\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"bg-gray-100 prose my-4 p-4 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"children\":[\"This tutorial assumes that you’ve already \",[\"$\",\"$L9\",null,{\"href\":\"/docs\",\"children\":\"installed Steep\"}],\" and that you know how to \",[\"$\",\"$L9\",null,{\"href\":\"/docs/your-first-workflow\",\"children\":\"submit a workflow\"}],\".\"]}]}]],[[\"$\",\"section\",\"what-we-are-going-to-do\",{\"data-slug\":\"what-we-are-going-to-do\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"what-we-are-going-to-do\",\"children\":\"What we are going to do\"}],[[\"$\",\"p\",null,{\"children\":[\"In this tutorial, we will apply a tiling service and a segmentation service to an aerial image. The segmentation service is based on \",[\"$\",\"a\",null,{\"href\":\"https://samgeo.gishub.org/samgeo/\",\"children\":\"segment-geospatial\",\"data-external\":\"external\"}],\", which in turn uses Facebook’s \",[\"$\",\"a\",null,{\"href\":\"https://segment-anything.com/\",\"children\":\"Segment Anything\",\"data-external\":\"external\"}],\" AI model. Both services are provided as pre-built \",[\"$\",\"a\",null,{\"href\":\"https://github.com/steep-wms/aerial-image-segmentation\",\"children\":\"Docker images on GitHub\",\"data-external\":\"external\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Semantic segmentation is the process of assigning an object class (e.g. \",[\"$\",\"em\",null,{\"children\":\"tree\"}],\", \",[\"$\",\"em\",null,{\"children\":\"building\"}],\", or \",[\"$\",\"em\",null,{\"children\":\"street\"}],\") to each pixel of an image. Our workflow creates segmentation masks, which are images where the detected classes are represented by different colors.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The workflow consists of two steps:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-4 lg:gap-y-8 my-8 items-start\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"text-lg font-normal mb-2\",\"children\":\"Split input image into tiles\"}],[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"em\",null,{\"children\":\"tiling service\"}],\" splits the input image into four smaller tiles.\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-row items-center max-w-lg not-prose\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-72\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 650 650\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"flex w-16 items-center\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right \",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}]}],[\"$\",\"div\",null,{\"className\":\"w-72\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid grid-cols-2 gap-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}],[\"$\",\"svg\",\"1_0_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":\"$-0\",\"x\":-325,\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}],[\"$\",\"svg\",\"0_1_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":-325,\"x\":\"$-0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}],[\"$\",\"svg\",\"1_1_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":-325,\"x\":-325,\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"mt-4 lg:mt-0\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-lg font-normal mb-2\",\"children\":\"Apply image segmentation\"}],[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"em\",null,{\"children\":\"segmentation service\"}],\" is applied in a \",[\"$\",\"$L9\",null,{\"href\":\"/docs/workflows#for-each-actions\",\"children\":\"for-each action\"}],\" to each image tile to create the segmentation masks.\"]}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-row items-center max-w-lg not-prose\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-72\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid grid-cols-2 gap-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}],[\"$\",\"svg\",\"1_0_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":\"$-0\",\"x\":-325,\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}],[\"$\",\"svg\",\"0_1_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":-325,\"x\":\"$-0\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}],[\"$\",\"svg\",\"1_1_mask\",{\"viewBox\":\"0 0 325 325\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":650,\"height\":650,\"y\":-325,\"x\":-325,\"children\":[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/home/tiles.jpg\",\"width\":650,\"height\":650,\"loading\":\"lazy\"}]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col w-16 items-center\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right m-0\",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right m-0\",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right m-0\",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"100%\",\"height\":\"100%\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right m-0\",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}]]}],[\"$\",\"div\",null,{\"className\":\"w-72\",\"children\":[\"$\",\"div\",null,{\"className\":\"grid grid-cols-2 gap-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_0_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":-250,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"0_1_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-250,\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_1_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-250,\"x\":-250,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}]]}]}]]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The actions in the second workflow step are intended to run in parallel. If you’ve just installed Steep, you will most likely want to enable \",[\"$\",\"$L9\",null,{\"href\":\"/docs/parallelization\",\"children\":\"parallelization\"}],\".\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"bg-gray-100 prose my-4 p-4 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"children\":\"Note that each instance of the segmentation service requires up 6 GB of RAM. If you wish to run the workflow on a single machine only, limit the number of agents so that you don’t exceed your main memory.\"}]}]],[[\"$\",\"section\",\"why-tile-the-image\",{\"data-slug\":\"why-tile-the-image\",\"children\":[[\"$\",\"h3\",null,{\"id\":\"why-tile-the-image\",\"children\":\"Why tile the image?\"}],[[\"$\",\"p\",null,{\"children\":\"You might wonder why the input image needs to be tiled and why we don’t apply the segmentation to it directly. There are three reasons for that:\"}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Quality.\"}],\" Aerial images typically have a high resolution (e.g. 5000x5000 pixels, like the \",[\"$\",\"$L9\",null,{\"href\":\"/docs/aerial-image-segmentation#download-input-data\",\"children\":\"one below\"}],\"), and AI models tend to perform badly on large images. Consider the following pictures where we applied the segmentation on an input image directly and then executed the workflow with the same image but with 2×2 tiles and 5×5 tiles. The smaller the tiles, the more precise the results are and the more objects the model is able to identify.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"grid grid-cols-[75%] xs:grid-cols-[50%] sm:grid-cols-2 md:grid-cols-3 gap-4 not-prose my-8 justify-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"grid grid-cols-1 gap-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 500 500\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/1tile/1tile.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/1tile/1tile.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}]]}],[\"$\",\"div\",null,{\"className\":\"text-center mt-2 font-normal\",\"children\":[\"$\",\"p\",null,{\"children\":\"No tiling\"}]}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"grid grid-cols-2 gap-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_0_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":-250,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"0_1_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-250,\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_1_mask\",{\"viewBox\":\"0 0 250 250\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-250,\"x\":-250,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/4tiles/4tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}]]}],[\"$\",\"div\",null,{\"className\":\"text-center mt-2 font-normal\",\"children\":[\"$\",\"p\",null,{\"children\":\"2×2 tiles\"}]}]]}],[\"$\",\"div\",null,{\"className\":\"flex flex-col\",\"children\":[[\"$\",\"div\",null,{\"className\":\"grid grid-cols-5 gap-1\",\"children\":[[\"$\",\"svg\",\"0_0_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_0_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":-100,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"2_0_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":-200,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"3_0_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":-300,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"4_0_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":\"$-0\",\"x\":-400,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"0_1_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-100,\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_1_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-100,\"x\":-100,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"2_1_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-100,\"x\":-200,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"3_1_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-100,\"x\":-300,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"4_1_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-100,\"x\":-400,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"0_2_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-200,\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_2_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-200,\"x\":-100,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"2_2_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-200,\"x\":-200,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"3_2_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-200,\"x\":-300,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"4_2_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-200,\"x\":-400,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"0_3_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-300,\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_3_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-300,\"x\":-100,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"2_3_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-300,\"x\":-200,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"3_3_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-300,\"x\":-300,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"4_3_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-300,\"x\":-400,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"0_4_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-400,\"x\":\"$-0\",\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"1_4_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-400,\"x\":-100,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"2_4_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-400,\"x\":-200,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"3_4_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-400,\"x\":-300,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}],[\"$\",\"svg\",\"4_4_mask\",{\"viewBox\":\"0 0 100 100\",\"className\":\"h-full w-full\",\"children\":[\"$\",\"foreignObject\",null,{\"width\":500,\"height\":500,\"y\":-400,\"x\":-400,\"children\":[\"$\",\"picture\",null,{\"children\":[[\"$\",\"source\",null,{\"srcSet\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.avif\",\"type\":\"image/avif\",\"width\":500,\"height\":500}],[\"$\",\"img\",null,{\"alt\":\"Tile\",\"src\":\"/images/docs/aerial-image-segmentation/25tiles/25tiles.jpg\",\"width\":500,\"height\":500,\"loading\":\"lazy\"}]]}]}]}]]}],[\"$\",\"div\",null,{\"className\":\"text-center mt-2 font-normal\",\"children\":[\"$\",\"p\",null,{\"children\":\"5×5 tiles\"}]}]]}]]}],\"\\n\",[\"$\",\"ol\",null,{\"start\":\"2\",\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Lower memory consumption.\"}],\" The smaller the tiles are, the less memory each segmentation process needs. This is particularly important if you enable parallelization and run multiple processes on the same machine. Also, if you \",[\"$\",\"$L9\",null,{\"href\":\"/docs/aerial-image-segmentation#enable-gpu-acceleration\",\"children\":\"enable GPU acceleration\"}],\", depending on your hardware, your graphics card memory might not be large enough to process a high-resolution image and the segmentation service will crash.\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"For the sake of demonstration.\"}],\" With this tutorial, we aim to teach you how to use a for-each action to process the results of a service with another service in parallel.\"]}],\"\\n\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"bg-gray-100 prose my-4 p-4 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"children\":\"Image tiling will result in a higher quality, but it also has an impact on performance. The more tiles you create, the longer the workflow will take.\"}]}]]]}]]]}],[\"$\",\"section\",\"download-input-data\",{\"data-slug\":\"download-input-data\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"download-input-data\",\"children\":\"Step 1: Download input data\"}],[[\"$\",\"p\",null,{\"children\":[\"The most important thing for any data processing workflow is the data. In this tutorial, we use an aerial image provided by the \",[\"$\",\"a\",null,{\"href\":\"https://hvbg.hessen.de/\",\"children\":\"Hessische Verwaltung für Bodenmanagement und Geoinformation\",\"data-external\":\"external\"}],\" in Germany through \",[\"$\",\"a\",null,{\"href\":\"https://gds.hessen.de\",\"children\":\"https://gds.hessen.de\",\"data-external\":\"external\"}],\". The image is free and can be used for any purpose.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Use the following link to download the full resolution image:\"}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"flex justify-center gap-3\",\"children\":[[\"$\",\"div\",null,{\"className\":\"not-prose\",\"children\":[\"$\",\"img\",null,{\"src\":\"/images/docs/aerial-image-segmentation/aerial-image-mini.jpg\",\"width\":\"650\",\"height\":\"650\",\"alt\":\"Aerial image\",\"loading\":\"lazy\",\"className\":\"w-16 mt-0.5\"}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://raw.githubusercontent.com/steep-wms/aerial-image-segmentation/1.0.0/data/dop20_32_475_5524_1_he.jpg\",\"children\":\"https://raw.githubusercontent.com/steep-wms/aerial-image-segmentation/1.0.0/data/dop20_32_475_5524_1_he.jpg\",\"data-external\":\"external\"}]}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In the following, we assume that the image has been saved to:\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"/data/dop20_32_475_5524_1_he.jpg\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"If you’ve downloaded the image to another location on your computer, make sure you modify the paths in the subsequent steps.\"}]],\"$undefined\"]}],[\"$\",\"section\",\"add-segmentation-metadata\",{\"data-slug\":\"add-segmentation-metadata\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"add-segmentation-metadata\",\"children\":\"Step 2: Add service metadata\"}],[[\"$\",\"p\",null,{\"children\":[\"Similar to the previous tutorials, we need to add metadata for the tiling service and the segmentation service. Open the file \",[\"$\",\"code\",null,{\"children\":\"conf/services/services.yaml\"}],\" and add the following code to it to describe the tiling service:\"]}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"conf/services/services.yaml\",\"children\":[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"-\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" tile\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Tiling\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Split an image into tiles\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  path\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" ghcr.io/steep-wms/aerial-image-segmentation/tiling-service:1.0.0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  runtime\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" docker\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  parameters\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"    -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input_file\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Input image\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" The input image to tile\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      cardinality\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 1..1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      dataType\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" string\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"    -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" output_directory\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Output directory\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" The directory where the tiles should be stored\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" output\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      cardinality\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 1..1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      dataType\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" directory\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"    -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" num_tiles\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Number of columns/rows\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#A0AEC0\"},\"children\":\" \u003e-\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"        The number of columns and rows to split the image into. A value of\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"        5 means the image will be split into 5x5 tiles.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      cardinality\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 1..1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      dataType\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" string\"}]]}]]}]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The service has three parameters: one for the input image file, one for the output directory where the tiles will be stored, and one specifying the number of columns and rows to split the image into. Regarding the latter, a value of 5 means the image will be split into 5×5 (=25) tiles.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As the service is provided as a pre-compiled \",[\"$\",\"a\",null,{\"href\":\"https://github.com/steep-wms/aerial-image-segmentation\",\"children\":\"Docker image on GitHub\",\"data-external\":\"external\"}],\", we set the attribute \",[\"$\",\"code\",null,{\"children\":\"path\"}],\" to the Docker image name and the attribute \",[\"$\",\"code\",null,{\"children\":\"runtime\"}],\" to \",[\"$\",\"code\",null,{\"children\":\"docker\"}],\".\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Now, add the metadata for the segmentation service:\"}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"conf/services/services.yaml\",\"children\":[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"-\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" segment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Image segmentation\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Segment geospatial data with the Segment Anything Model (SAM)\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  path\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" ghcr.io/steep-wms/aerial-image-segmentation/segmentation-service:1.0.0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  runtime\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" docker\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  parameters\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"    -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input_file\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Input image\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" The input image to segment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      cardinality\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 1..1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      dataType\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" string\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"    -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" output_file\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Output image\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Output image with masks\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" output\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      cardinality\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 1..1\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      dataType\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" string\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      fileSuffix\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" .jpg\"}]]}]]}]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The service has just two parameters: one for the image to segment and one for the filename of the output segmentation mask. We set the \",[\"$\",\"code\",null,{\"children\":\"fileSuffix\"}],\" of the output parameter to \",[\"$\",\"code\",null,{\"children\":\".jpg\"}],\" to make sure the filename will be generated with the right extension.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Again, we use the Docker image name as \",[\"$\",\"code\",null,{\"children\":\"path\"}],\" and set the \",[\"$\",\"code\",null,{\"children\":\"runtime\"}],\" to \",[\"$\",\"code\",null,{\"children\":\"docker\"}],\".\"]}]],\"$undefined\"]}],[\"$\",\"section\",\"configure-steep\",{\"data-slug\":\"configure-steep\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"configure-steep\",\"children\":\"Step 3: Configure Steep\"}],[[\"$\",\"p\",null,{\"children\":\"Our two services will be executed in Docker containers, which have a virtualized file system. Any data location on the host system that should be accessible from within a Docker container needs to be mounted when the container is started.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"In our case, this applies to the \",[\"$\",\"code\",null,{\"children\":\"/data\"}],\" directory where the \",[\"$\",\"$L9\",null,{\"href\":\"/docs/aerial-image-segmentation#download-input-data\",\"children\":\"input image has been downloaded\"}],\". We will use the same directory for Steep’s temporary path as well as its output path to access the segmentation masks after the workflow has finished.\"]}]],[[\"$\",\"section\",\"change-temporary-path-and-output-path\",{\"data-slug\":\"change-temporary-path-and-output-path\",\"children\":[[\"$\",\"h3\",null,{\"id\":\"change-temporary-path-and-output-path\",\"children\":\"Change temporary path and output path\"}],[[\"$\",\"p\",null,{\"children\":[\"Open Steep’s \",[\"$\",\"$L9\",null,{\"href\":\"/docs/steepyaml\",\"children\":\"main configuration file\"}],\" \",[\"$\",\"code\",null,{\"children\":\"conf/steep.yaml\"}],\" and modify the properties \",[\"$\",\"code\",null,{\"children\":\"tmpPath\"}],\" and \",[\"$\",\"code\",null,{\"children\":\"outPath\"}],\" as follows:\"]}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"conf/steep.yaml\",\"children\":[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"steep\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  tmpPath\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" /data/tmp\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  outPath\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" /data/out\"}]]}]]}]}]}]}]}]]]}],[\"$\",\"section\",\"mount-data-directory\",{\"data-slug\":\"mount-data-directory\",\"children\":[[\"$\",\"h3\",null,{\"id\":\"mount-data-directory\",\"children\":\"Mount data directory\"}],[[\"$\",\"p\",null,{\"children\":[\"In the same file, add the following configuration to tell the Docker runtime to mount the \",[\"$\",\"code\",null,{\"children\":\"/data\"}],\" directory into every container started:\"]}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"conf/steep.yaml\",\"children\":[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"steep\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  runtimes\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    docker\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      volumes\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"        -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" /data:/data\"}]]}]]}]}]}]}]}]]]}],[\"$\",\"section\",\"restart-steep-segment\",{\"data-slug\":\"restart-steep-segment\",\"children\":[[\"$\",\"h3\",null,{\"id\":\"restart-steep-segment\",\"children\":\"Restart Steep\"}],[\"$\",\"p\",null,{\"children\":\"Restart Steep if it is running, so it can pick up the updated configuration.\"}]]}]]]}],[\"$\",\"section\",\"create-segmentation-workflow\",{\"data-slug\":\"create-segmentation-workflow\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"create-segmentation-workflow\",\"children\":\"Step 4: Create the workflow\"}],[[\"$\",\"p\",null,{\"children\":[\"Create a new file \",[\"$\",\"code\",null,{\"children\":\"segment.yaml\"}],\" and paste the following workflow into it:\"]}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"segment.yaml\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"api\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 4.7.0\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"actions\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" execute\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    service\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" tile\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    inputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"      -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input_file\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"        value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" /data/dop20_32_475_5524_1_he.jpg\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"      -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" num_tiles\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"        value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    outputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"      -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" output_directory\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"        var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" tiles\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"  -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" for\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    enumerator\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" i\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    input\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" tiles\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"    actions\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"      -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" execute\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"        service\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" segment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"        inputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"          -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" input_file\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"            var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" i\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"        outputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"          -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" output_file\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"            var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" mask_image\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"            store\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAB\"},\"children\":\" true\"}]]}]]}]}]}]}],[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"json\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"json\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"  \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"api\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"4.7.0\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"  \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"actions\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"execute\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"service\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"tile\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"inputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"input_file\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"/data/dop20_32_475_5524_1_he.jpg\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"num_tiles\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\" 2\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      ],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"outputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"output_directory\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"tiles\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      ]\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"    {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"for\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"enumerator\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"input\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"tiles\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"actions\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"type\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"execute\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"service\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"segment\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"inputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"            {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"              \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"input_file\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"              \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"i\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"            }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          ],\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"outputs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"            {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"              \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"output_file\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"              \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"var\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"mask_image\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"              \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"store\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAB\"},\"children\":\" true\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"            }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"          ]\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"        }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"      ]\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"  ]\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#ADB5BD\"},\"children\":\"}\"}]}]]}]}]}]}]]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The workflow first applies the tiling service \",[\"$\",\"code\",null,{\"children\":\"tile\"}],\" to the input image. The service writes its results into a directory. The segmentation service \",[\"$\",\"code\",null,{\"children\":\"segment\"}],\" is then applied in a for-each action to each image tile in this directory. Steep will create a new process chain for each image tile and execute them in parallel if possible.\"]}],\"\\n\",[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"-0.5 -0.5 615 131\",\"className\":\"my-8 text-black dark:text-white\",\"children\":[[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"d\":\"M368 4h240v120H368z\",\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"M258 64h23.63\",\"pointerEvents\":\"stroke\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"m286.88 64-7 3.5 1.75-3.5-1.75-3.5Z\",\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"d\":\"M188 49h70v30h-70z\",\"pointerEvents\":\"all\"}],[\"$\",\"switch\",null,{\"transform\":\"translate(-.5 -.5)\",\"children\":[[\"$\",\"foreignObject\",null,{\"width\":\"100%\",\"height\":\"100%\",\"pointerEvents\":\"none\",\"requiredFeatures\":\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"style\":{\"overflow\":\"visible\",\"textAlign\":\"left\"},\"children\":[\"$\",\"div\",null,{\"xmlns\":\"http://www.w3.org/1999/xhtml\",\"style\":{\"display\":\"flex\",\"alignItems\":\"unsafe center\",\"justifyContent\":\"unsafe center\",\"width\":68,\"height\":1,\"paddingTop\":64,\"marginLeft\":189},\"children\":[\"$\",\"div\",null,{\"data-drawio-colors\":\"color:var(--color-fg);\",\"style\":{\"boxSizing\":\"border-box\",\"fontSize\":0,\"textAlign\":\"center\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\",\"fontSize\":12,\"color\":\"var(--color-fg)\",\"lineHeight\":1.2,\"pointerEvents\":\"all\",\"whiteSpace\":\"normal\",\"overflowWrap\":\"normal\"},\"children\":\"tile\"}]}]}]}],[\"$\",\"text\",null,{\"x\":223,\"y\":68,\"fill\":\"currentColor\",\"fontSize\":12,\"textAnchor\":\"middle\",\"children\":\"tile\"}]]}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"M418 64h23.63\",\"pointerEvents\":\"stroke\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"m446.88 64-7 3.5 1.75-3.5-1.75-3.5Z\",\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"M391.63 64H338\",\"pointerEvents\":\"stroke\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"m396.88 64-7 3.5 1.75-3.5-1.75-3.5Z\",\"pointerEvents\":\"all\"}],[\"$\",\"circle\",null,{\"cx\":408,\"cy\":64,\"r\":10,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"M518 64h23.63\",\"pointerEvents\":\"stroke\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"m546.88 64-7 3.5 1.75-3.5-1.75-3.5Z\",\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"d\":\"M448 49h70v30h-70z\",\"pointerEvents\":\"all\"}],[\"$\",\"switch\",null,{\"transform\":\"translate(-.5 -.5)\",\"children\":[[\"$\",\"foreignObject\",null,{\"width\":\"100%\",\"height\":\"100%\",\"pointerEvents\":\"none\",\"requiredFeatures\":\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"style\":{\"overflow\":\"visible\",\"textAlign\":\"left\"},\"children\":[\"$\",\"div\",null,{\"xmlns\":\"http://www.w3.org/1999/xhtml\",\"style\":{\"display\":\"flex\",\"alignItems\":\"unsafe center\",\"justifyContent\":\"unsafe center\",\"width\":68,\"height\":1,\"paddingTop\":64,\"marginLeft\":449},\"children\":[\"$\",\"div\",null,{\"data-drawio-colors\":\"color:var(--color-fg);\",\"style\":{\"boxSizing\":\"border-box\",\"fontSize\":0,\"textAlign\":\"center\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\",\"fontSize\":12,\"color\":\"var(--color-fg)\",\"lineHeight\":1.2,\"pointerEvents\":\"all\",\"whiteSpace\":\"normal\",\"overflowWrap\":\"normal\"},\"children\":\"segment\"}]}]}]}],[\"$\",\"text\",null,{\"x\":483,\"y\":68,\"fill\":\"currentColor\",\"fontSize\":12,\"textAnchor\":\"middle\",\"children\":\"segment\"}]]}],[\"$\",\"circle\",null,{\"cx\":558,\"cy\":64,\"r\":10,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M378 74h60v30h-60z\",\"pointerEvents\":\"all\"}],[\"$\",\"switch\",null,{\"transform\":\"translate(-.5 -.5)\",\"children\":[[\"$\",\"foreignObject\",null,{\"width\":\"100%\",\"height\":\"100%\",\"pointerEvents\":\"none\",\"requiredFeatures\":\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"style\":{\"overflow\":\"visible\",\"textAlign\":\"left\"},\"children\":[\"$\",\"div\",null,{\"xmlns\":\"http://www.w3.org/1999/xhtml\",\"style\":{\"display\":\"flex\",\"alignItems\":\"unsafe center\",\"justifyContent\":\"unsafe center\",\"width\":58,\"height\":1,\"paddingTop\":89,\"marginLeft\":379},\"children\":[\"$\",\"div\",null,{\"data-drawio-colors\":\"color:var(--color-fg);\",\"style\":{\"boxSizing\":\"border-box\",\"fontSize\":0,\"textAlign\":\"center\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\",\"fontSize\":12,\"color\":\"var(--color-fg)\",\"lineHeight\":1.2,\"pointerEvents\":\"all\",\"whiteSpace\":\"normal\",\"overflowWrap\":\"normal\"},\"children\":\"i\"}]}]}]}],[\"$\",\"text\",null,{\"x\":408,\"y\":93,\"fill\":\"currentColor\",\"fontSize\":12,\"textAnchor\":\"middle\",\"children\":\"i\"}]]}],[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M528 74h60v30h-60z\",\"pointerEvents\":\"all\"}],[\"$\",\"switch\",null,{\"transform\":\"translate(-.5 -.5)\",\"children\":[[\"$\",\"foreignObject\",null,{\"width\":\"100%\",\"height\":\"100%\",\"pointerEvents\":\"none\",\"requiredFeatures\":\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"style\":{\"overflow\":\"visible\",\"textAlign\":\"left\"},\"children\":[\"$\",\"div\",null,{\"xmlns\":\"http://www.w3.org/1999/xhtml\",\"style\":{\"display\":\"flex\",\"alignItems\":\"unsafe center\",\"justifyContent\":\"unsafe center\",\"width\":58,\"height\":1,\"paddingTop\":89,\"marginLeft\":529},\"children\":[\"$\",\"div\",null,{\"data-drawio-colors\":\"color:var(--color-fg);\",\"style\":{\"boxSizing\":\"border-box\",\"fontSize\":0,\"textAlign\":\"center\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\",\"fontSize\":12,\"color\":\"var(--color-fg)\",\"lineHeight\":1.2,\"pointerEvents\":\"all\",\"whiteSpace\":\"normal\",\"overflowWrap\":\"normal\"},\"children\":\"mask_image\"}]}]}]}],[\"$\",\"text\",null,{\"x\":558,\"y\":93,\"fill\":\"currentColor\",\"fontSize\":12,\"textAnchor\":\"middle\",\"children\":\"mask_image\"}]]}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"strokeWidth\":4,\"d\":\"M338 89V39\",\"pointerEvents\":\"stroke\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"M308 64h23.63\",\"pointerEvents\":\"stroke\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"m336.88 64-7 3.5 1.75-3.5-1.75-3.5Z\",\"pointerEvents\":\"all\"}],[\"$\",\"circle\",null,{\"cx\":298,\"cy\":64,\"r\":10,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M268 74h60v30h-60z\",\"pointerEvents\":\"all\"}],[\"$\",\"switch\",null,{\"transform\":\"translate(-.5 -.5)\",\"children\":[[\"$\",\"foreignObject\",null,{\"width\":\"100%\",\"height\":\"100%\",\"pointerEvents\":\"none\",\"requiredFeatures\":\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"style\":{\"overflow\":\"visible\",\"textAlign\":\"left\"},\"children\":[\"$\",\"div\",null,{\"xmlns\":\"http://www.w3.org/1999/xhtml\",\"style\":{\"display\":\"flex\",\"alignItems\":\"unsafe center\",\"justifyContent\":\"unsafe center\",\"width\":58,\"height\":1,\"paddingTop\":89,\"marginLeft\":269},\"children\":[\"$\",\"div\",null,{\"data-drawio-colors\":\"color:var(--color-fg);\",\"style\":{\"boxSizing\":\"border-box\",\"fontSize\":0,\"textAlign\":\"center\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\",\"fontSize\":12,\"color\":\"var(--color-fg)\",\"lineHeight\":1.2,\"pointerEvents\":\"all\",\"whiteSpace\":\"normal\",\"overflowWrap\":\"normal\"},\"children\":\"tiles\"}]}]}]}],[\"$\",\"text\",null,{\"x\":298,\"y\":93,\"fill\":\"currentColor\",\"fontSize\":12,\"textAnchor\":\"middle\",\"children\":\"tiles\"}]]}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"strokeWidth\":2,\"d\":\"M394.624 27.936a6.992 6.992 0 0 1-7.5 2.576 6.99 6.99 0 0 1-5.085-6.095 6.976 6.976 0 0 1 3.882-6.919 6.99 6.99 0 0 1 7.857 1.166\",\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"d\":\"m396.603 14.464 1.71 8.416-8.523-1.11Z\",\"pointerEvents\":\"all\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"d\":\"M68 74h60v30H68z\",\"pointerEvents\":\"all\"}],[\"$\",\"switch\",null,{\"transform\":\"translate(-.5 -.5)\",\"children\":[[\"$\",\"foreignObject\",null,{\"width\":\"100%\",\"height\":\"100%\",\"pointerEvents\":\"none\",\"requiredFeatures\":\"http://www.w3.org/TR/SVG11/feature#Extensibility\",\"style\":{\"overflow\":\"visible\",\"textAlign\":\"left\"},\"children\":[\"$\",\"div\",null,{\"xmlns\":\"http://www.w3.org/1999/xhtml\",\"style\":{\"display\":\"flex\",\"alignItems\":\"unsafe center\",\"justifyContent\":\"unsafe center\",\"width\":58,\"height\":1,\"paddingTop\":89,\"marginLeft\":69},\"children\":[\"$\",\"div\",null,{\"data-drawio-colors\":\"color:var(--color-fg);\",\"style\":{\"boxSizing\":\"border-box\",\"fontSize\":0,\"textAlign\":\"center\"},\"children\":[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\",\"fontSize\":12,\"color\":\"var(--color-fg)\",\"lineHeight\":1.2,\"pointerEvents\":\"all\",\"whiteSpace\":\"normal\",\"overflowWrap\":\"normal\"},\"children\":[\"$\",\"i\",null,{\"children\":\"/data/dop20_32_475_5524_1_he.jpg\"}]}]}]}]}],[\"$\",\"text\",null,{\"x\":98,\"y\":93,\"fill\":\"currentColor\",\"fontSize\":12,\"textAnchor\":\"middle\",\"children\":\"/data/dop2...\"}]]}],[\"$\",\"circle\",null,{\"cx\":98,\"cy\":64,\"r\":10,\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"pointerEvents\":\"none\"}],[\"$\",\"circle\",null,{\"cx\":98,\"cy\":64,\"r\":5.077,\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"pointerEvents\":\"none\"}],[\"$\",\"path\",null,{\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"M108 64h73.63\",\"pointerEvents\":\"none\"}],[\"$\",\"path\",null,{\"fill\":\"currentColor\",\"stroke\":\"currentColor\",\"strokeMiterlimit\":10,\"d\":\"m186.88 64-7 3.5 1.75-3.5-1.75-3.5Z\",\"pointerEvents\":\"none\"}]]}]],\"$undefined\"]}],[\"$\",\"section\",\"submit-segmentation-workflow\",{\"data-slug\":\"submit-segmentation-workflow\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"submit-segmentation-workflow\",\"children\":\"Step 5: Submit the workflow\"}],[[\"$\",\"p\",null,{\"children\":\"Run the following command to submit the segmentation workflow to Steep:\"}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"Terminal\",\"children\":[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"shell\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"shell\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F8\"},\"children\":\"curl\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" -X\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" POST http://localhost:8080/workflows --data-binary @segment.yaml\"}]]}]}]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You can monitor the workflow execution in Steep’s web UI. Note that it will take several minutes to complete.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Also, if you haven’t done so already, the Docker images need to be pulled first. They have a total download size of about 8 GB, so depending on your Internet connection, downloading also may take a few minutes. Subsequent runs will be faster.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"After the execution has finished, you will find the segmentation masks at \",[\"$\",\"code\",null,{\"children\":\"/data/out/[WORKFLOW ID]\"}],\".\"]}]],\"$undefined\"]}],[\"$\",\"section\",\"enable-gpu-acceleration\",{\"data-slug\":\"enable-gpu-acceleration\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"enable-gpu-acceleration\",\"children\":\"Optional: Enable GPU acceleration\"}],[[\"$\",\"p\",null,{\"children\":\"If your machine has an NVIDIA graphics card, you can optionally enable GPU acceleration to tremendously speed up processing. In fact, this is recommended for any AI workflow in production.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"To do so, the \",[\"$\",\"a\",null,{\"href\":\"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/\",\"children\":\"NVIDIA Container Toolkit\",\"data-external\":\"external\"}],\" needs to be installed on your system. Follow the \",[\"$\",\"a\",null,{\"href\":\"https://docs.nvidia.com/datacenter/cloud-native/container-toolkit/latest/install-guide.html\",\"children\":\"installation guide\",\"data-external\":\"external\"}],\" if you haven’t done so already.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Modify the metadata of the segmentation service and add the following \",[\"$\",\"$L9\",null,{\"href\":\"/docs/service-metadata#runtime-arguments\",\"children\":\"runtime argument\"}],\":\"]}],\"\\n\",[\"$\",\"$La\",null,{\"title\":\"conf/services/services.yaml\",\"children\":[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"$Lb\",null,{\"nonAppleType\":\"always\",\"forceDark\":true,\"children\":[\"$\",\"pre\",null,{\"className\":\"Steep color theme\",\"tabIndex\":\"0\",\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"yaml\",\"data-theme\":\"Steep color theme\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"-\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" segment\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" Image segmentation\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F8FF\"},\"children\":\"  \"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F7\"},\"children\":\"  ...\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"data-highlighted-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"  runtimeArgs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"data-highlighted-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"    -\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" id\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" gpus\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"data-highlighted-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      name\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\" GPUs\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"data-highlighted-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"Use all available GPUs\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"data-highlighted-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      label\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"--gpus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"data-highlighted-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\"      value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\" \\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#90CDF4\"},\"children\":\"all\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6C758D\"},\"children\":\"\\\"\"}]]}]]}]}]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"This will tell Steep to pass the argument \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"sh\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F8\"},\"children\":\"--gpus\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" all\"}]]}]}]}],\" to the \",[\"$\",\"span\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"sh\",\"data-theme\":\"Steep color theme\",\"children\":[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#EDF2F8\"},\"children\":\"docker\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E16EAA\"},\"children\":\" run\"}]]}]}]}],\" command when it starts the segmentation service.\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"bg-gray-100 prose my-4 p-4 border-l-4 border-primary\",\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Important:\"}],\" A single GPU cannot be shared between multiple instances of the segmentation service. If you want to use GPU acceleration, you have to either disable parallelization or run multiple instances of Steep \",[\"$\",\"$L9\",null,{\"href\":\"/docs/parallelization#launch-multiple-steep-instances\",\"children\":\"distributed across several machines\"}],\".\"]}]}]],\"$undefined\"]}]],[\"$\",\"div\",null,{\"className\":\"flex mt-14 mb-8 justify-between text-sm not-prose gap-4\",\"children\":[[\"$\",\"div\",null,{\"children\":[\"$\",\"$L9\",null,{\"href\":\"/docs/loops\",\"className\":\"font-normal text-gray-800 hover:text-primary group flex gap-1\",\"children\":[[\"$\",\"div\",null,{\"className\":\"text-gray-500 group-hover:text-primary\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-left \",\"children\":[[\"$\",\"path\",\"1wnfg3\",{\"d\":\"m15 18-6-6 6-6\"}],\"$undefined\"]}]}],[\"$\",\"div\",null,{\"children\":\"Loops\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"$L9\",null,{\"href\":\"/docs/bring-your-own-service\",\"className\":\"font-normal text-gray-800 hover:text-primary group flex gap-1 text-right\",\"children\":[[\"$\",\"div\",null,{\"children\":\"Bring your own service\"}],[\"$\",\"div\",null,{\"className\":\"text-gray-500 group-hover:text-primary\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":\"1em\",\"height\":\"1em\",\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-chevron-right \",\"children\":[[\"$\",\"path\",\"mthhwq\",{\"d\":\"m9 18 6-6-6-6\"}],\"$undefined\"]}]}]]}]}]]}]]}]],null]]},[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"(group)\",\"children\",\"$d\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"$Lf\",null,{\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\",\"(group)\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],\"params\":{}}],null]]},[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"docs\",\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]]},[null,[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__variable_267086 __variable_af6a35\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"script\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"\\n              try {\\n                if (localStorage.theme === \\\"dark\\\" || (!(\\\"theme\\\" in localStorage) \u0026\u0026 window.matchMedia(\\\"(prefers-color-scheme: dark)\\\").matches)) {\\n                  document.documentElement.classList.add(\\\"dark\\\")\\n                } else {\\n                  document.documentElement.classList.remove(\\\"dark\\\")\\n                }\\n              } catch (_) {}\\n            \"}}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/x-icon\",\"href\":\"/favicon.ico\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"16x16\",\"href\":\"/favicons/favicon-16x16.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/favicons/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"96x96\",\"href\":\"/favicons/favicon-96x96.png\"}]]}],[\"$\",\"body\",null,{\"children\":[\"$\",\"$L10\",null,{\"children\":[\"$\",\"$Lc\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"loadingScripts\":\"$undefined\",\"hasLoading\":false,\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$Le\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":null}]}]}]]}],null]],\"initialHead\":[false,\"$L11\"],\"globalErrorComponent\":\"$12\",\"missingSlots\":\"$W13\"}]]\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Aerial image segmentation | Steep\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Scientific Workflows in the Cloud\"}],[\"$\",\"meta\",\"4\",{\"name\":\"author\",\"content\":\"Michel Krämer\"}],[\"$\",\"meta\",\"5\",{\"name\":\"robots\",\"content\":\"index,follow\"}],[\"$\",\"meta\",\"6\",{\"name\":\"next-size-adjust\"}]]\n8:null\n"])</script><script>self.__next_f.push([1,""])</script></body></html>