import ScrollLink from "components/ScrollLink"

Use these configuration items to build up a cluster of Steep instances. Under
the hood, Steep uses [Vert.x](https://vertx.io/) and [Hazelcast](https://hazelcast.com/),
so these configuration items are very similar to the ones found in these two
frameworks. To build up a cluster, you need to configure an event bus connection
and a cluster connection. They should use different ports. `host` typically
refers to the machine your instance is running on and `publicHost` or
`publicAddress` specify the hostname or IP address that your Steep instance will
use in your network to advertise itself so that other instances can connect to
it.

For more information, please read the documentation of [Vert.x](https://vertx.io/)
and [Hazelcast](https://hazelcast.com/).

`steep.cluster.eventBus.host`

> The IP address (or hostname) to bind the clustered eventbus to

> **Default:** Automatically detected local network interface

`steep.cluster.eventBus.port`

> The port the clustered eventbus should listen on

> **Default:** A random port

`steep.cluster.eventBus.publicHost`

> The IP address (or hostname) the eventbus uses to announce itself within in the cluster

> **Default:** Same as `steep.cluster.eventBus.host`

`steep.cluster.eventBus.publicPort`

> The port that the eventbus uses to announce itself within in the cluster

> **Default:** Same as `steep.cluster.eventBus.port`

`steep.cluster.hazelcast.clusterName`

> An optional cluster name that can be used to separate clusters of Steep instances. Two instances from different clusters (with different names) cannot connect to each other.

> By default, no cluster name is set, which means all instances can connect to each other. However, a Steep instance without a cluster name cannot connect to a named cluster.

> *Heads up:* if you have a cluster name set and you're using a <ScrollLink href="#cloud-connection">cloud connection</ScrollLink> to deploy remote agents on demand, make sure these Steep instances use the same cluster name. Otherwise, you won't be able to connect to them.

`steep.cluster.hazelcast.publicAddress`

> The IP address (or hostname) and port Hazelcast uses to announce itself within in the cluster

`steep.cluster.hazelcast.port`

> The port that Hazelcast should listen on

`steep.cluster.hazelcast.interfaces`

> A list of IP address patterns specifying valid interfaces Hazelcast should bind to

`steep.cluster.hazelcast.members`

> A list of IP addresses (or hostnames) of Hazelcast cluster members

`steep.cluster.hazelcast.tcpEnabled`

> `true` if Hazelcast should use TCP to connect to other instances, `false` if it should use multicast

> **Default:** `false`

`steep.cluster.hazelcast.restoreMembersOnStartup.enabled`

> `true` if Steep should try to load IP addresses of possibly still running VMs from its database during startup and add them to `steep.cluster.hazelcast.members`. This is useful if a Steep instance has crashed and should be reintegrated into an existing cluster when it's back.

> **Default:** `false`

`steep.cluster.hazelcast.restoreMembersOnStartup.defaultPort`

> If `steep.cluster.hazelcast.restoreMembersOnStartup.enabled` is `true`, potential Hazelcast cluster members will be restored from database. This configuration item specifies on which Hazelcast port these members are listening.

`steep.cluster.lookupOrphansIntervalMilliseconds`

> The interval at which Steep's main thread looks for orphaned entries in its internal remote agent registry. Such entries may (very rarely) happen if there is a network failure during deregistration of an agent. You normally do not have to change this configuration.

> **Default:** 300000 (5 minutes)
