"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[725],{4136:function(e,t,s){function slug(e){return e.toLowerCase().replaceAll(/[^ \-a-z]/g,"").replaceAll(/ /g,"-")}s.d(t,{g:function(){return l},o:function(){return r}});let i=[{title:"Introduction",pages:[{title:"Get started",slug:"",sections:["What to read next"]},{title:"How does Steep work?",sections:["Workflow scheduling","Software architecture","Processing services"]}]},{title:"Tutorials",pages:[{title:"Your first workflow",sections:[{title:"Step 1: Add service metadata",slug:"add-service-metadata"},{title:"Step 2: Restart Steep",slug:"restart-steep"},{title:"Step 3: Create the workflow",slug:"create-the-workflow"},{title:"Step 4: Submit the workflow",slug:"submit-the-workflow"}]},{title:"Sequential workflows",sections:[{title:"Step 1: Add more service metadata",slug:"add-more-service-metadata"},{title:"Step 2: Create the workflow",slug:"create-sequential-workflow"},{title:"Step 3: Submit the workflow",slug:"submit-sequential-workflow"}]},{title:"Parallelization",sections:[{title:"Step 1: Configure Steep for parallelization",slug:"configure-steep-for-parallelization",subsections:[{title:"Spawn multiple agents (vertical scaling)",slug:"spawn-multiple-agents"},{title:"Launch multiple Steep instances (horizontal scaling)",slug:"launch-multiple-steep-instances"}]},{title:"Step 2: Execute parallel workflows",slug:"execute-parallel-workflows",subsections:[{title:"Option A: Independent actions",slug:"independent-actions"},{title:"Option B: Using a for-each action",slug:"using-a-for-each-action"}]},{title:"Step 3: Submit parallel workflows",slug:"submit-parallel-workflows"}]},{title:"Loops",sections:[{title:"Step 1: Create a countdown service",slug:"create-a-countdown-service"},{title:"Step 2: Make the service executable",slug:"make-the-service-executable"},{title:"Step 3: Add service metadata",slug:"add-countdown-metadata"},{title:"Step 4: Create a workflow with a loop",slug:"create-loop-workflow"},{title:"Step 5: Submit the workflow",slug:"submit-loop-workflow"}]}]},{title:"Advanced tutorials",pages:[{title:"Aerial image segmentation",sections:[{title:"What we are going to do",subsections:["Why tile the image?"]},{title:"Step 1: Download input data",slug:"download-input-data"},{title:"Step 2: Add service metadata",slug:"add-segmentation-metadata"},{title:"Step 3: Configure Steep",slug:"configure-steep",subsections:["Change temporary path and output path","Mount data directory",{title:"Restart Steep",slug:"restart-steep-segment"}]},{title:"Step 4: Create the workflow",slug:"create-segmentation-workflow"},{title:"Step 5: Submit the workflow",slug:"submit-segmentation-workflow"},{title:"Optional: Enable GPU acceleration",slug:"enable-gpu-acceleration"}]},{title:"Bring your own service",sections:[{title:"Write a service from scratch",subsections:[{title:"Make the service executable",slug:"make-the-tiling-service-executable"},{title:"Add service metadata",slug:"add-tiling-service-metadata"}]},{title:"Create a Docker image",subsections:["Build the Docker image","Modify the service metadata"]}]}]},{title:"Data models",pages:[{title:"Workflows",sections:["Variables",{title:"Actions",subsections:["Execute actions","For-each actions","Include actions","Parameters","Output parameters","Include output parameters"]},"Retry policy defaults"]},{title:"Process chains",sections:[{title:"Executables",subsections:["Arguments","Argument variables"]},"Process chain status"]},{title:"Submissions",sections:["Submission status"]},{title:"Service metadata",sections:["Runtime environments","Service parameters","Runtime arguments"]},{title:"Macros",sections:["Macro parameters"]},{title:"Timeouts and retries",sections:["Timeout policies","Retry policies","Durations"]},{title:"Agents"},{title:"VMs",sections:["VM status"]},{title:"Setups",sections:["Volumes","Creation policies"]},{title:"Full-text search",sections:["Query language","Search examples","Search results","Matches"]}]},{title:"Interfaces",pages:[{title:"HTTP endpoints",sections:["GET information","GET health","GET submissions","GET submission by ID","PUT submission","POST workflow","GET process chains","GET process chain by ID","GET process chain logs","GET process chain runs","GET process chain run by run number","HEAD process chain logs","PUT process chain","GET agents","GET agent by ID","GET VMs","GET VM by ID","GET plugins","GET plugin by name","GET services","GET service by ID","GET setups","GET setup by ID","GET search","GET Prometheus metrics"]},{title:"Web-based user interface"}]},{title:"Configuration",pages:[{title:"steep.yaml",sections:["General configuration","Cluster settings","HTTP configuration","Controller configuration","Scheduler configuration","Agent configuration","Runtime settings","Database connection","Cloud connection","OpenStack cloud driver","SSH connection to VMs","Log configuration","Garbage collector configuration","Cache configuration","Agent pool parameters"]},{title:"setups.yaml"},{title:"services/services.yaml"},{title:"macros/macros.yaml"},{title:"plugins/common.yaml"}]},{title:"Advanced configuration topics",pages:[{title:"Provisioning scripts",sections:["Global variables","Environment variables","Configuration values","Read local files","Upload local files to remote"]},{title:"Using YAML anchors"},{title:"Using a template engine"}]},{title:"Extending Steep through plugins",pages:[{title:"Overview",slug:"plugin-overview",sections:["Parameter injection"]},{title:"Initializers"},{title:"Output adapters"},{title:"Process chain adapters"},{title:"Process chain consistency checkers"},{title:"Custom runtime environments"},{title:"Progress estimators"}]}];function makeToc(){let e=[];for(let l of i){let i=slug(l.title),o=[];for(let e of l.pages){var t,s,r;let l;let n=null!==(t=e.slug)&&void 0!==t?t:slug(e.title);if(void 0!==e.sections)for(let t of(l=[],e.sections)){let e,i,o;if("string"==typeof t)i=slug(e=t);else if(e=t.title,i=null!==(s=t.slug)&&void 0!==s?s:slug(e),void 0!==t.subsections)for(let e of(o=[],t.subsections)){let t,s;"string"==typeof e?s=slug(t=e):(t=e.title,s=null!==(r=e.slug)&&void 0!==r?r:slug(t)),o.push({title:t,type:"subsection",slug:s,page:n,section:i})}l.push({title:e,type:"section",slug:i,page:n,subsections:o})}o.push({...e,type:"page",slug:n,sections:l,chapter:i})}e.push({...l,type:"chapter",slug:i,pages:o})}return e}function makeIndex(e){let t={};function add(e){if(void 0!==t[e.slug])throw Error("Duplicate slug: ".concat(e.slug));t[e.slug]=e}for(let t of e){for(let e of t.pages){if(void 0!==e.sections)for(let t of e.sections){if(void 0!==t.subsections)for(let e of t.subsections)add(e);add(t)}add(e)}add(t)}return t}let r=makeToc(),l=makeIndex(r)},5725:function(e,t,s){let i;s.r(t),s.d(t,{default:function(){return search_SearchDialog}});var r=s(7437),l=s(292),o=s(4136),n=s(9477),a=s(2265);function useIsMobile(){let e=(0,n.F)(),[t,s]=(0,a.useState)(void 0);return(0,a.useEffect)(()=>{void 0!==e&&s(/Android|iPhone|iPad|Mobile|Tablet/i.test(e))},[e]),t}var c=s(1827),search_SearchInputBar=e=>{let{onChangeSearchInput:t,onClose:s,onUp:i,onDown:l,onSubmit:o}=e,n=useIsMobile();return(0,r.jsxs)("div",{className:"flex flex-row gap-4",children:[(0,r.jsx)("div",{className:"flex items-center justify-center pl-4 text-gray-700",children:(0,r.jsx)(c.Z,{})}),(0,r.jsx)("input",{type:"text",className:"flex-1 rounded-lg bg-bg py-4 text-lg outline-none dark:bg-gray-100 md:text-base lg:text-sm min-w-0",placeholder:"Search documentation",onChange:t,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key?(o(),e.preventDefault()):"ArrowDown"===e.key?(l(),e.preventDefault()):"ArrowUp"===e.key&&(i(),e.preventDefault())}}),(0,r.jsx)("div",{className:"flex items-center justify-center pr-5",children:(0,r.jsx)("button",{className:"flex h-5 items-center rounded border border-gray-200 px-1 text-xs text-gray-600 hover:border-gray-400",onClick:()=>s(),children:!0===n?"Close":"Esc"})})]})},u=s(4650),g=s(7042),d=s(1291);let p=(0,a.forwardRef)((e,t)=>{let s,i,l,{item:n,active:a,onFocus:c,onClose:p,onMouseMove:f}=e,h=n.slug;"get-started"===h&&(h="");let m=o.g[h];switch("page"===m.type?s=m.chapter:("section"===m.type||"subsection"===m.type)&&(s=m.page),void 0!==s&&(i=o.g[s].title),m.type){case"chapter":throw Error("Cannot link to a chapter");case"page":l=h;break;case"section":case"subsection":l="".concat(m.page,"/#").concat(h)}return(0,r.jsx)(u.Z,{href:"/docs/".concat(l),ref:t,onFocus:c,onClick:()=>p(),onMouseMove:f,children:(0,r.jsxs)("div",{className:(0,g.Z)("rounded-md px-4 py-4",{"active group bg-primary text-bg dark:bg-primary/60 dark:text-gray-900":a,"bg-gray-100 dark:bg-gray-200":!a}),children:[(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("span",{className:"font-normal",children:n.title}),void 0!==i?(0,r.jsxs)(r.Fragment,{children:[" ",(0,r.jsxs)("span",{className:"whitespace-nowrap text-xs text-gray-600 group-[.active]:text-gray-400",children:[(0,r.jsx)(d.Z,{size:".8em"})," ",i]})]}):void 0]}),(0,r.jsx)("div",{className:"max-w-full overflow-hidden text-ellipsis whitespace-nowrap text-xs leading-relaxed",children:n.body})]})})}),f=(0,a.forwardRef)((e,t)=>{let{searchResults:s,searchInput:i,selectedItem:l,setSelectedItem:o,isFavorites:n,onClose:c}=e,u=(0,a.useRef)(null),g=(0,a.useRef)([]),d=(0,a.useRef)(null);function onMouseMove(e){e>=0&&e<g.current.length?d.current=g.current[e]:d.current=null,o(e)}return(0,a.useImperativeHandle)(t,()=>({click:()=>{var e;l<0||l>=g.current.length||null===(e=g.current[l])||void 0===e||e.click()}}),[l]),(0,a.useEffect)(()=>{if(null===u.current||l<0||l>=g.current.length)return;let e=g.current[l];if(null===e)return;if(e===d.current){d.current=null;return}d.current=null;let t=e.getBoundingClientRect(),s=u.current.getBoundingClientRect();if(t.bottom>s.bottom){let e=u.current.scrollTop+(t.bottom-s.bottom+16);u.current.scrollTo({top:e})}else if(t.top<s.top){let e=t.top-s.top+u.current.scrollTop-16;u.current.scrollTo({top:e})}},[l]),(0,r.jsx)("div",{className:"flex flex-1 flex-col gap-4 overflow-y-scroll p-4",ref:u,children:0===s.length?(0,r.jsx)("div",{className:"flex h-8 items-center justify-center",children:(0,r.jsxs)("div",{children:["No results for"," ",(0,r.jsxs)("span",{className:"font-normal",children:["“",i.trim(),"”"]})]})}):(0,r.jsxs)(r.Fragment,{children:[n&&(0,r.jsx)("h6",{className:"text-base font-normal",children:"Suggested pages"}),s.map((e,t)=>(0,r.jsx)(p,{item:e,active:t===l,ref:e=>{g.current[t]=e},onFocus:()=>o(t),onClose:c,onMouseMove:()=>onMouseMove(t)},t))]})})});var h=s(8143),m=s.n(h),b=s(4685);let x=[{slug:"get-started",title:o.g[""].title,body:"Install Steep and start your first workflow"},{slug:"how-does-steep-work",title:o.g["how-does-steep-work"].title,body:"Learn about the basic concepts of Steep and its architecture"},{slug:"workflows",title:o.g.workflows.title,body:"Steep’s main data model"},{slug:"process-chains",title:o.g["process-chains"].title,body:"Workflows are transformed into executable process chains"},{slug:"http-endpoints",title:o.g["http-endpoints"].title,body:"Communicate with Steep through its HTTP API"},{slug:"steepyaml",title:o.g.steepyaml.title,body:"Steep’s main configuration file"}];async function ensureIndex(){if(void 0!==i)return i;let e=await fetch("".concat("","/docs/index.json"),{cache:"no-cache"}),t=(await e.json()).map(e=>{let t=e.slug;return""===t&&(t="get-started"),{id:t,title:o.g[e.slug].title,body:e.body}});return(i=new b.Z({fields:["id","title","body"],storeFields:["body"],searchOptions:{boost:{title:10,id:100},fuzzy:.2,prefix:!0}})).addAll(t),i}function firstLine(e,t){let s=0;for(;s<e.length;){let i=e.indexOf("\n",s);if(-1===i&&(i=e.length),t.some(e=>e[0]>=s&&e[1]<=i))return[s,i];s=i+1}return[0,e.length]}function longestLine(e){let t=0,s=0,i=0;for(;t<e.length;){let r=e.indexOf("\n",t);-1===r&&(r=e.length),r-t>i-s&&(s=t,i=r),t=r+1}return e.substring(s,i)}function isLetter(e,t){return!!e.substring(t,t+1).match(/[a-z]/i)}function excerpt(e,t,s){if(e.length<=s)return[0,e.length];let i=t[0][0],r=t.length;for(;r>0&&!(t[--r][1]-i<=s););let l=t[r][1];if(l-i>=s)return[i,l];let o=s-(l-i),n=i-Math.ceil(o/2),a=l+Math.floor(o/2);if(n<0?(n=0,a=s):a>e.length&&(a=e.length,n=e.length-s),n=Math.max(0,n),(a=Math.min(e.length,a))<e.length)for(;a>l&&isLetter(e,a);)--a,n>0&&--n;if(n>0)for(;n<i&&isLetter(e,n-1);)++n;return[n,a]}function highlight(e,t){let s=0,i=[];for(let l in t){let o=t[l];o[0]>s&&i.push(e.substring(s,o[0]));let n=e.substring(o[0],o[1]);n.length>0&&i.push((0,r.jsx)("mark",{className:"border-b-2 border-primary bg-bg/0 font-normal text-primary group-[.active]:border-bg group-[.active]:text-bg dark:border-primary-hover dark:text-primary-hover dark:group-[.active]:border-gray-900 dark:group-[.active]:text-gray-900",children:n},l)),s=o[1]}return s<e.length&&i.push(e.substring(s,e.length)),(0,r.jsx)(r.Fragment,{children:i})}function extractMatchedTerms(e,t){let s=[];for(let i of Object.keys(e.match))-1!==e.match[i].indexOf(t)&&s.push(i);return s}function termsToPositions(e,t){let s=[];for(let i of t){let t=e.toLowerCase().indexOf(i);t>=0&&s.push([t,t+i.length])}return s}function coalesceAndSortPositions(e){e=sortPositions(e);let t=0;for(let s=1;s<e.length;++s)e[t][1]>=e[s][0]?e[t][1]=Math.max(e[t][1],e[s][1]):e[++t]=e[s];return e.slice(0,t+1)}function sortPositions(e){let t=[...e];return t.sort((e,t)=>e[0]-t[0]),t}function convertMatches(e){let t=[];for(let s of e.slice(0,25)){let e,i,r=s.id;"get-started"===r&&(r="");let l=o.g[r].title,n=s.body,a=coalesceAndSortPositions(termsToPositions(l,extractMatchedTerms(s,"title")));e=a.length>0?highlight(l,a):l;let c=coalesceAndSortPositions(termsToPositions(n,extractMatchedTerms(s,"body")));if(c.length>0){let[e,t]=firstLine(n,c),s=n.substring(e,t);if(e>0)for(let t of c)t[0]-=e,t[1]-=e;let[r,l]=excerpt(s,c,80),o=s.substring(r,l);if(r>0)for(let e of c)e[0]-=r,e[1]-=r;if(c=c.filter(e=>e[0]>=0&&e[1]>0&&e[0]<o.length&&e[1]<=o.length),r>0)for(let e of(o="… "+o,c))e[0]+=2,e[1]+=2;l<s.length&&(o+=" …"),i=highlight(o,c)}else{let e=longestLine(n),t=[[0,Math.min(80,e.length)]],[s,r]=excerpt(e,t,80),l=e.substring(s,r);s>0&&(l="… "+l),r<e.length&&(l+=" …"),i=l}t.push({slug:r,title:e,body:i})}return t}var search_SearchDialogContent=e=>{let{onClose:t}=e,[s,i]=(0,a.useState)(""),[l,o]=(0,a.useState)(x),[n,c]=(0,a.useState)(-1),u=(0,a.useRef)(null),g=(0,a.useCallback)(()=>{c(e=>(--e<0&&(e=l.length-1),e))},[l]),d=(0,a.useCallback)(()=>{c(e=>(e+1)%l.length)},[l]);(0,a.useEffect)(()=>{ensureIndex().catch(console.error)},[]);let p=m()(e=>{let t=e.target.value;if(i(t),""===t){c(-1),o(x);return}ensureIndex().then(e=>{let s=convertMatches(e.search(t));s.length>0&&c(0),o(s)})},10);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(search_SearchInputBar,{onChangeSearchInput:p,onClose:t,onUp:g,onDown:d,onSubmit:()=>{var e;return null===(e=u.current)||void 0===e?void 0:e.click()}}),(0,r.jsx)("hr",{className:"border-gray-200"}),(0,r.jsx)(f,{searchResults:l,searchInput:s,selectedItem:n,setSelectedItem:c,isFavorites:l===x,onClose:t,ref:u})]})},search_SearchDialog=e=>{let{open:t,onClose:s}=e;return(0,r.jsx)(l.Root,{open:t,onOpenChange:e=>{e&&s()},children:(0,r.jsxs)(l.Portal,{children:[(0,r.jsx)(l.Overlay,{className:"fixed inset-0 z-[90] bg-black/20 backdrop-blur-sm [&[data-state='closed']]:animate-fade-out [&[data-state='open']]:animate-fade-in","aria-hidden":"true"}),(0,r.jsx)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:(0,r.jsx)("div",{className:"h-full w-[40rem] max-w-full lg:h-3/4",children:(0,r.jsx)(l.Content,{className:"flex max-h-full w-full flex-col rounded-lg bg-bg text-sm shadow-[rgba(0,0,0,0.2)_0px_10px_50px] dark:bg-gray-100 [&[data-state='closed']]:animate-dialog-fade-out [&[data-state='open']]:animate-dialog-fade-in",onEscapeKeyDown:()=>s(),onInteractOutside:()=>s(),onPointerDownOutside:()=>s(),children:(0,r.jsx)(search_SearchDialogContent,{onClose:s})})})})]})})}}}]);